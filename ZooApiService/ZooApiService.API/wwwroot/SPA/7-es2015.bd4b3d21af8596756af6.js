(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{efOG:function(t,a,e){"use strict";e.r(a),e.d(a,"AnimalModule",(function(){return dt}));var i=e("ofXK"),n=e("tyNb"),r=e("XNiG"),c=e("Ojd6"),s=e("1G5W"),o=e("wFOr"),l=e("3Pt+"),b=e("0IaG"),m=e("fXoL"),d=e("2yVh"),u=e("NgpD"),p=e("tk/3");let h=(()=>{class t{constructor(t){this.httpClient=t}get(t){return this.httpClient.get(u.a.animalTypes+t)}getAnimalTypes(){return this.httpClient.get(u.a.animalTypes)}create(t){return this.httpClient.post(u.a.animalTypes,t)}update(t){return this.httpClient.put(u.a.animalTypes,t)}delete(t){return this.httpClient.delete(u.a.animalTypes+t)}}return t.\u0275fac=function(a){return new(a||t)(m.Zb(p.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=e("5eHb"),C=e("sYmb"),g=e("bTqV"),U=e("kmnG"),y=e("NFeN"),V=e("d3UM"),v=e("qFsG"),j=e("iadO"),F=e("FKr1");const I=["pictureFile"];function O(t,a){if(1&t&&(m.Vb(0,"mat-option",24),m.Cc(1),m.Ub()),2&t){const t=a.$implicit;m.nc("value",t.animalTypeId),m.Cb(1),m.Ec(" ",t.typeName," ")}}function D(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Animal-type")," ",m.jc(3,4,"is-required")," "))}function k(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Name")," ",m.jc(3,4,"is-required")," "))}function A(t,a){if(1&t&&(m.Vb(0,"mat-option",24),m.Cc(1),m.ic(2,"translate"),m.Ub()),2&t){const t=a.$implicit;m.nc("value",t.value),m.Cb(1),m.Ec(" ",m.jc(2,2,t.title)," ")}}function T(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Gender")," ",m.jc(3,4,"is-required")," "))}function S(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Date-of-birth")," ",m.jc(3,4,"is-required")," "))}let w=(()=>{class t{constructor(t,a,e,i,n,s,o,l){this.fb=t,this.animalService=a,this.animalTypeService=e,this.data=i,this.matDialogRef=n,this.toastr=s,this.datePipe=o,this.translate=l,this.animalTypes=[],this.destroy$=new r.a,this.getButtonState=()=>this.translate.instant(Object(c.f)(null!=this.data.animalId,"Animal")),this.hasCustomError=(t,a)=>Object(c.g)(t,a)}ngOnInit(){this.genders=Object(c.e)(o.c),this.getAnimalTypes(),this.createForm(),Object(c.b)(this.toastr)}getAnimalTypes(){this.animalTypeService.getAnimalTypes().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.animalTypes=t},t=>{console.log(t),this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error"))})}createForm(){this.animalForm=this.fb.group({animalTypeId:[this.data.animalTypeId,l.q.required],name:[this.data.name,[l.q.required,l.q.maxLength(100)]],gender:[this.data.gender,l.q.required],dateOfBirth:[this.data.dateOfBirth,l.q.required]})}onUpload(t){this.file=t.target.files[0]}onSubmit(){this.animalForm.valid?null==this.data.animalId?this.createAnimal():this.updateAnimal():this.animalForm.markAllAsTouched()}createAnimal(){const t=this.getFormData();this.animalService.createAnimal(t).pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.toastr.success(this.translate.instant("Created"),this.translate.instant("Success")),this.matDialogRef.close({action:o.a.Create,data:t.createdId})},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}updateAnimal(){const t=this.getFormData();this.animalService.updateAnimal(t).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{this.toastr.success(this.translate.instant("Updated"),this.translate.instant("Success")),this.matDialogRef.close({action:o.a.Update,data:this.data.animalId})},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}resetForm(){this.createForm(),this.pictureFile.nativeElement.value=null,this.file=null}getFormData(){var t;const a=new FormData;return a.append("animalId",""+(null!==(t=this.data.animalId)&&void 0!==t?t:0)),a.append("animalTypeId",this.animalForm.value.animalTypeId),a.append("name",this.animalForm.value.name),a.append("gender",this.animalForm.value.gender),a.append("dateOfBirth",Object(c.c)(this.animalForm.value.dateOfBirth,this.datePipe)),this.file&&a.append("picture",this.file),a}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(a){return new(a||t)(m.Pb(l.c),m.Pb(d.a),m.Pb(h),m.Pb(b.a),m.Pb(b.e),m.Pb(f.b),m.Pb(i.e),m.Pb(C.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-animal-management"]],viewQuery:function(t,a){var e;1&t&&m.Ic(I,!0),2&t&&m.rc(e=m.ec())&&(a.pictureFile=e.first)},features:[m.Bb([i.e])],decls:56,vars:28,consts:[[1,"container"],[1,"form-group","float-right"],[1,"text-right"],["mat-icon-button","","matSuffix","","mat-dialog-close",""],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],["appearance","standard"],["formControlName","animalTypeId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","name"],["formControlName","gender"],["color","primary","appearance","standard"],["matInput","","formControlName","dateOfBirth","readonly","",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker1",""],[1,"form-group","mt-2"],["multiple","","type","file","accept","image/*",1,"form-control-file",3,"change"],["pictureFile",""],[1,"row","px-2","mt-4"],[1,"col-md-6"],["mat-raised-button","","type","submit","color","primary",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"],[3,"value"]],template:function(t,a){if(1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"button",3),m.Vb(4,"mat-icon"),m.Cc(5,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"h3",4),m.Cc(7),m.ic(8,"translate"),m.Ub(),m.Qb(9,"hr"),m.Vb(10,"form",5),m.dc("ngSubmit",(function(){return a.onSubmit()})),m.Vb(11,"mat-form-field",6),m.Vb(12,"mat-label"),m.Cc(13),m.ic(14,"translate"),m.Ub(),m.Vb(15,"mat-select",7),m.Bc(16,O,2,2,"mat-option",8),m.Ub(),m.Bc(17,D,4,6,"mat-error",9),m.Ub(),m.Vb(18,"mat-form-field",6),m.Vb(19,"mat-label"),m.Cc(20),m.ic(21,"translate"),m.Ub(),m.Qb(22,"input",10),m.Bc(23,k,4,6,"mat-error",9),m.Ub(),m.Vb(24,"mat-form-field",6),m.Vb(25,"mat-label"),m.Cc(26),m.ic(27,"translate"),m.Ub(),m.Vb(28,"mat-select",11),m.Bc(29,A,3,4,"mat-option",8),m.Ub(),m.Bc(30,T,4,6,"mat-error",9),m.Ub(),m.Vb(31,"mat-form-field",12),m.Vb(32,"mat-label"),m.Cc(33),m.ic(34,"translate"),m.Ub(),m.Qb(35,"input",13),m.Qb(36,"mat-datepicker-toggle",14),m.Qb(37,"mat-datepicker",15,16),m.Bc(39,S,4,6,"mat-error",9),m.Ub(),m.Vb(40,"div",17),m.Vb(41,"label"),m.Cc(42),m.ic(43,"translate"),m.Ub(),m.Qb(44,"br"),m.Vb(45,"input",18,19),m.dc("change",(function(t){return a.onUpload(t)})),m.Ub(),m.Qb(47,"br"),m.Ub(),m.Vb(48,"div",20),m.Vb(49,"div",21),m.Vb(50,"button",22),m.Cc(51),m.Ub(),m.Ub(),m.Vb(52,"div",21),m.Vb(53,"button",23),m.dc("click",(function(){return a.resetForm()})),m.Vb(54,"mat-icon"),m.Cc(55,"cached"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.sc(38);m.Cb(7),m.Dc(m.jc(8,16,"Animal")),m.Cb(3),m.nc("formGroup",a.animalForm),m.Cb(3),m.Dc(m.jc(14,18,"Animal-type")),m.Cb(3),m.nc("ngForOf",a.animalTypes),m.Cb(1),m.nc("ngIf",a.hasCustomError(a.animalForm,"animalTypeId")),m.Cb(3),m.Dc(m.jc(21,20,"Name")),m.Cb(3),m.nc("ngIf",a.hasCustomError(a.animalForm,"name")),m.Cb(3),m.Dc(m.jc(27,22,"Gender")),m.Cb(3),m.nc("ngForOf",a.genders),m.Cb(1),m.nc("ngIf",a.hasCustomError(a.animalForm,"gender")),m.Cb(3),m.Dc(m.jc(34,24,"Date-of-birth")),m.Cb(2),m.nc("matDatepicker",t),m.Cb(1),m.nc("for",t),m.Cb(3),m.nc("ngIf",a.hasCustomError(a.animalForm,"dateOfBirth")),m.Cb(3),m.Dc(m.jc(43,26,"Choose-pic")),m.Cb(9),m.Ec(" ",a.getButtonState()," ")}},directives:[g.a,U.g,b.c,y.a,l.r,l.l,l.f,U.c,U.f,V.a,l.k,l.e,i.k,i.l,v.b,l.b,j.b,j.d,j.a,F.n,U.b],pipes:[C.d],styles:[".mat-form-field{width:97%}"]}),t})();var x=e("/1cH"),N=e("jaxi"),E=e("1jcm");function B(t,a){if(1&t&&(m.Vb(0,"mat-option",6),m.Cc(1),m.Ub()),2&t){const t=a.$implicit;m.nc("value",t),m.Cb(1),m.Ec(" ",t," ")}}function $(t,a){if(1&t&&(m.Vb(0,"mat-option",6),m.Cc(1),m.Ub()),2&t){const t=a.$implicit;m.nc("value",t.name),m.Cb(1),m.Ec(" ",t.name," ")}}function P(t,a){if(1&t){const t=m.Wb();m.Vb(0,"button",27),m.dc("click",(function(){return m.uc(t),m.hc().addOrUpdate(null)})),m.Vb(1,"mat-icon"),m.Cc(2,"add"),m.Ub(),m.Ub()}}const R=function(t){return["/animal/animal-info",t]};function Q(t,a){if(1&t){const t=m.Wb();m.Vb(0,"div",29),m.Vb(1,"div",30),m.Qb(2,"img",31),m.Vb(3,"h5",32),m.Cc(4),m.Ub(),m.Vb(5,"ul",33),m.Vb(6,"li",34),m.Vb(7,"mat-icon",21),m.Cc(8,"description"),m.Ub(),m.Cc(9),m.Ub(),m.Vb(10,"li",34),m.Vb(11,"mat-icon",21),m.Cc(12,"info"),m.Ub(),m.Cc(13),m.ic(14,"translate"),m.Ub(),m.Vb(15,"li",34),m.Vb(16,"mat-icon",21),m.Cc(17,"date_range"),m.Ub(),m.Cc(18),m.ic(19,"date"),m.Ub(),m.Ub(),m.Vb(20,"div",35),m.Vb(21,"a",36),m.Vb(22,"mat-icon",21),m.Cc(23,"info"),m.Ub(),m.Cc(24),m.ic(25,"translate"),m.Ub(),m.Vb(26,"button",37),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc(2).addOrUpdate(e.animalId)})),m.Vb(27,"mat-icon"),m.Cc(28,"edit"),m.Ub(),m.Ub(),m.Vb(29,"button",38),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc(2).deleteAnimal(e.animalId)})),m.Vb(30,"mat-icon"),m.Cc(31,"delete"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=a.$implicit;m.Cb(2),m.nc("src",t.picture,m.wc),m.Cb(2),m.Ec(" ",t.name," "),m.Cb(5),m.Ec(" ",t.typeName," "),m.Cb(4),m.Ec(" ",m.jc(14,7,t.gender)," "),m.Cb(5),m.Ec(" ",m.kc(19,9,t.dateOfBirth,"yyyy-MM-dd")," "),m.Cb(3),m.nc("routerLink",m.pc(14,R,t.animalId)),m.Cb(3),m.Ec(" ",m.jc(25,12,"Info")," ")}}function q(t,a){if(1&t&&(m.Vb(0,"div",2),m.Bc(1,Q,32,16,"div",28),m.Ub()),2&t){const t=m.hc();m.Cb(1),m.nc("ngForOf",t.filteredAnimals)}}function M(t,a){if(1&t){const t=m.Wb();m.Vb(0,"tr",42),m.Vb(1,"td",49),m.Cc(2),m.Ub(),m.Vb(3,"td",29),m.Cc(4),m.Ub(),m.Vb(5,"td",49),m.Cc(6),m.ic(7,"translate"),m.Ub(),m.Vb(8,"td",49),m.Cc(9),m.ic(10,"date"),m.Ub(),m.Vb(11,"td",29),m.Vb(12,"a",50),m.Vb(13,"mat-icon",21),m.Cc(14,"info"),m.Ub(),m.Cc(15),m.ic(16,"translate"),m.Ub(),m.Vb(17,"button",37),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc(2).addOrUpdate(e.animalId)})),m.Vb(18,"mat-icon"),m.Cc(19,"edit"),m.Ub(),m.Ub(),m.Vb(20,"button",38),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc(2).deleteAnimal(e.animalId)})),m.Vb(21,"mat-icon"),m.Cc(22,"delete"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=a.$implicit;m.Cb(2),m.Ec(" ",t.typeName," "),m.Cb(2),m.Ec(" ",t.name," "),m.Cb(2),m.Ec(" ",m.jc(7,6,t.gender)," "),m.Cb(3),m.Ec(" ",m.kc(10,8,t.dateOfBirth,"yyyy-MM-dd")," "),m.Cb(3),m.nc("routerLink",m.pc(13,R,t.animalId)),m.Cb(3),m.Ec(" ",m.jc(16,11,"Info")," ")}}function G(t,a){if(1&t){const t=m.Wb();m.Vb(0,"div",39),m.Vb(1,"table",40),m.Vb(2,"thead",41),m.Vb(3,"tr",42),m.Vb(4,"th",43),m.dc("click",(function(){return m.uc(t),m.hc().sortBy("type")})),m.Vb(5,"u"),m.Cc(6),m.ic(7,"translate"),m.Ub(),m.Ub(),m.Vb(8,"th",44),m.dc("click",(function(){return m.uc(t),m.hc().sortBy("name")})),m.Vb(9,"u"),m.Cc(10),m.ic(11,"translate"),m.Ub(),m.Ub(),m.Vb(12,"th",45),m.Cc(13),m.ic(14,"translate"),m.Ub(),m.Vb(15,"th",43),m.dc("click",(function(){return m.uc(t),m.hc().sortBy("date")})),m.Vb(16,"u"),m.Cc(17),m.ic(18,"translate"),m.Ub(),m.Ub(),m.Vb(19,"th",46),m.Vb(20,"button",47),m.dc("click",(function(){return m.uc(t),m.hc().addOrUpdate(null)})),m.Vb(21,"mat-icon"),m.Cc(22,"add"),m.Ub(),m.Cc(23),m.ic(24,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(25,"tbody"),m.Bc(26,M,23,15,"tr",48),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.Cb(6),m.Dc(m.jc(7,6,"Type")),m.Cb(4),m.Dc(m.jc(11,8,"Name")),m.Cb(3),m.Dc(m.jc(14,10,"Gender")),m.Cb(4),m.Dc(m.jc(18,12,"Date-of-birth")),m.Cb(6),m.Ec(" ",m.jc(24,14,"Create-animal")," "),m.Cb(3),m.nc("ngForOf",t.filteredAnimals)}}let L=(()=>{class t{constructor(t,a,e,i,n,c){this.fb=t,this.router=a,this.animalService=e,this.toastr=i,this.dialog=n,this.translateService=c,this.typeNames=[],this.sortValue=!0,this.destroy$=new r.a}ngOnInit(){this.getAnimals(),this.createForm(),Object(c.b)(this.toastr),this.tableView=this.isTableView()}getAnimals(){this.animalService.getAnimals().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.animals=t,this.typeNames=this.animals.map(t=>t.typeName).filter((t,a,e)=>e.indexOf(t)===a),this.defaultSort(),this.filterAnimals()})}createForm(){this.filterForm=this.fb.group({typeName:[null],name:[null],fromDate:[null],byDate:[null]})}isTableView(){const t=localStorage.getItem("table-view");return!!t&&t.toUpperCase()==="true".toUpperCase()}changeView(t){localStorage.setItem("table-view",t.checked+""),this.tableView=t.checked}filterAnimals(){const t=this.filterForm.value;this.filteredAnimals=this.animals,t.typeName&&"*"!==t.typeName&&(this.filteredAnimals=this.filteredAnimals.filter(a=>a.typeName.toUpperCase()===t.typeName.toUpperCase())),t.name&&(this.filteredAnimals=this.filteredAnimals.filter(a=>a.name.toUpperCase().includes(t.name.toUpperCase()))),t.fromDate&&(this.filteredAnimals=this.filteredAnimals.filter(a=>Date.parse(a.dateOfBirth)>=t.fromDate)),t.byDate&&(this.filteredAnimals=this.filteredAnimals.filter(a=>Date.parse(a.dateOfBirth)<=t.byDate))}deleteAnimal(t){Object(c.d)(this.animals.find(a=>a.animalId===t).name,this.translateService)&&this.animalService.deleteAnimal(t).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{Object(c.i)(o.a.Delete,this.animals,null,a=>a.animalId===t),this.toastr.success(this.translateService.instant("Deleted"),this.translateService.instant("Success"))},t=>{this.toastr.error(this.translateService.instant("Failed"),this.translateService.instant("Error")),console.log(t)})}goToInfo(t){this.router.navigate(["/animal/animal-info",t])}addOrUpdate(t){const a=this.findOrDefaultAnimal(t);this.dialog.open(w,{width:"28%",autoFocus:!0,data:a}).afterClosed().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&this.refreshData(t)})}sortBy(t){"name"===t&&this.filteredAnimals.sort((t,a)=>(this.sortValue?t.name>a.name:t.name<a.name)?1:-1),"date"===t&&this.filteredAnimals.sort((t,a)=>(this.sortValue?t.dateOfBirth>a.dateOfBirth:t.dateOfBirth<a.dateOfBirth)?1:-1),"type"===t&&this.filteredAnimals.sort((t,a)=>(this.sortValue?t.typeName>a.typeName:t.typeName<a.typeName)?1:-1),this.sortValue=!this.sortValue}findOrDefaultAnimal(t){return t?this.animals.find(a=>a.animalId===t):{animalTypeId:null,animalId:null,name:null,gender:null,dateOfBirth:null,picture:null,contentType:null}}refreshData(t){const a=t.data;this.animalService.getAnimal(a).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{Object(c.i)(t.action,this.animals,e,t=>t.animalId===a),this.defaultSort(),this.filterAnimals()})}defaultSort(){this.animals.sort((t,a)=>Date.parse(t.dateOfBirth)<=Date.parse(a.dateOfBirth)?1:-1)}resetForm(){this.filterForm.reset(),this.filteredAnimals=this.animals}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(a){return new(a||t)(m.Pb(l.c),m.Pb(n.b),m.Pb(d.a),m.Pb(f.b),m.Pb(b.b),m.Pb(C.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-animal-details"]],features:[m.Bb([i.e])],decls:63,vars:40,consts:[[1,"text-center","my-2"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-2","my-auto"],["appearance","standard"],["formControlName","typeName"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","my-auto"],["matInput","","placeholder","title","formControlName","name",3,"matAutocomplete"],["autoName","matAutocomplete"],["color","primary","appearance","standard"],["matInput","","formControlName","fromDate",1,"mat-datepicker-input",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker1",""],["matInput","","formControlName","byDate",3,"matDatepicker"],["picker2",""],["mat-raised-button","","color","primary","type","submit",1,"px-5"],[3,"click"],[1,"mb-3"],[1,"mr-1"],[3,"ngModel","ngModelChange","change","click"],[1,"ml-1"],["mat-fab","","color","primary","class","add-circle-button d-flex justify-content-center",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["class","table-responsive px-2",4,"ngIf"],["mat-fab","","color","primary",1,"add-circle-button","d-flex","justify-content-center",3,"click"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card","mb-2","shadow"],[1,"card-img-top","mx-auto",3,"src"],[1,"text-center","mt-2"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-inline-flex"],[1,"card-body","d-flex","justify-content-center"],[1,"btn","btn-info","mr-2","d-inline-flex","justify-content-center",3,"routerLink"],[1,"btn","btn-sm","btn-warning","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[1,"table-responsive","px-2"],[1,"table","table-bordered","text-center"],[1,"thead-light"],[1,"d-flex"],["scope","col",1,"col-md-2","pointer",3,"click"],["scope","col",1,"col-md-3","pointer",3,"click"],["scope","col",1,"col-md-2"],["scope","col",1,"col-md-3"],["mat-raised-button","","color","primary",1,"btn","btn-sm",3,"click"],["class","d-flex",4,"ngFor","ngForOf"],[1,"col-md-2"],[1,"btn","btn-info","mr-3","d-inline-flex","justify-content-center",3,"routerLink"]],template:function(t,a){if(1&t&&(m.Vb(0,"div",0),m.Vb(1,"h3"),m.Cc(2),m.ic(3,"translate"),m.Ub(),m.Ub(),m.Qb(4,"hr"),m.Vb(5,"form",1),m.dc("ngSubmit",(function(){return a.filterAnimals()})),m.Vb(6,"div",2),m.Vb(7,"div",3),m.Vb(8,"mat-form-field",4),m.Vb(9,"mat-label"),m.Cc(10),m.ic(11,"translate"),m.Ub(),m.Vb(12,"mat-select",5),m.Vb(13,"mat-option",6),m.Cc(14),m.ic(15,"translate"),m.Ub(),m.Bc(16,B,2,2,"mat-option",7),m.Ub(),m.Ub(),m.Ub(),m.Vb(17,"div",8),m.Vb(18,"mat-form-field",4),m.Vb(19,"mat-label"),m.Cc(20),m.ic(21,"translate"),m.Ub(),m.Qb(22,"input",9),m.Vb(23,"mat-autocomplete",null,10),m.Bc(25,$,2,2,"mat-option",7),m.Ub(),m.Ub(),m.Ub(),m.Vb(26,"div",3),m.Vb(27,"mat-form-field",11),m.Vb(28,"mat-label"),m.Cc(29),m.ic(30,"translate"),m.Ub(),m.Qb(31,"input",12),m.Qb(32,"mat-datepicker-toggle",13),m.Qb(33,"mat-datepicker",14,15),m.Ub(),m.Ub(),m.Vb(35,"div",3),m.Vb(36,"mat-form-field",11),m.Vb(37,"mat-label"),m.Cc(38),m.ic(39,"translate"),m.Ub(),m.Qb(40,"input",16),m.Qb(41,"mat-datepicker-toggle",13),m.Qb(42,"mat-datepicker",14,17),m.Ub(),m.Ub(),m.Vb(44,"div",8),m.Vb(45,"mat-button-toggle-group"),m.Vb(46,"button",18),m.Cc(47),m.ic(48,"translate"),m.Ub(),m.Vb(49,"mat-button-toggle",19),m.dc("click",(function(){return a.resetForm()})),m.Vb(50,"mat-icon"),m.Cc(51,"cached"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(52,"div",20),m.Vb(53,"span",21),m.Cc(54),m.ic(55,"translate"),m.Ub(),m.Vb(56,"mat-slide-toggle",22),m.dc("ngModelChange",(function(t){return a.tableView=t}))("change",(function(t){return a.changeView(t)}))("click",(function(t){return t.stopPropagation()})),m.Ub(),m.Vb(57,"span",23),m.Cc(58),m.ic(59,"translate"),m.Ub(),m.Ub(),m.Bc(60,P,3,0,"button",24),m.Bc(61,q,2,1,"div",25),m.Bc(62,G,27,16,"div",26)),2&t){const t=m.sc(24),e=m.sc(34),i=m.sc(43);m.Cb(2),m.Dc(m.jc(3,22,"Animal-management")),m.Cb(3),m.nc("formGroup",a.filterForm),m.Cb(5),m.Dc(m.jc(11,24,"Animal-type")),m.Cb(3),m.nc("value","*"),m.Cb(1),m.Ec(" ",m.jc(15,26,"All")," "),m.Cb(2),m.nc("ngForOf",a.typeNames),m.Cb(4),m.Dc(m.jc(21,28,"Name")),m.Cb(2),m.nc("matAutocomplete",t),m.Cb(3),m.nc("ngForOf",a.filteredAnimals),m.Cb(4),m.Dc(m.jc(30,30,"From-date")),m.Cb(2),m.nc("matDatepicker",e),m.Cb(1),m.nc("for",e),m.Cb(6),m.Dc(m.jc(39,32,"By-date")),m.Cb(2),m.nc("matDatepicker",i),m.Cb(1),m.nc("for",i),m.Cb(6),m.Ec(" ",m.jc(48,34,"Search")," "),m.Cb(7),m.Ec(" ",m.jc(55,36,"Card-view")," "),m.Cb(2),m.nc("ngModel",a.tableView),m.Cb(2),m.Ec(" ",m.jc(59,38,"Table-view")," "),m.Cb(2),m.nc("ngIf",!a.tableView),m.Cb(1),m.nc("ngIf",!a.tableView),m.Cb(1),m.nc("ngIf",a.tableView)}},directives:[l.r,l.l,l.f,U.c,U.f,V.a,l.k,l.e,F.n,i.k,v.b,l.b,x.c,x.a,j.b,j.d,U.g,j.a,N.b,g.a,N.a,y.a,E.a,l.n,i.l,n.d],pipes:[C.d,i.e],styles:[".add-circle-button[_ngcontent-%COMP%]{position:fixed;bottom:60px;right:47px;z-index:999}img[_ngcontent-%COMP%]{height:178px!important;width:100%!important}"]}),t})();function _(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Type-name")," ",m.jc(3,4,"is-required")," "))}let W=(()=>{class t{constructor(t,a,e,i,n,s){this.fb=t,this.animalTypeService=a,this.data=e,this.matDialogRef=i,this.toastr=n,this.translate=s,this.destroy$=new r.a,this.getButtonState=()=>this.translate.instant(Object(c.f)(null!=this.data.animalTypeId,"Animal-type")),this.hasCustomError=(t,a)=>Object(c.g)(t,a)}ngOnInit(){this.createForm(),Object(c.b)(this.toastr)}createForm(){this.animalTypeForm=this.fb.group({typeName:[this.data.typeName,l.q.required]})}onSubmit(){this.animalTypeForm.valid?null==this.data.animalTypeId?this.createAnimalType():this.updateAnimalType():this.animalTypeForm.markAllAsTouched()}createAnimalType(){this.animalTypeService.create({typeName:this.animalTypeForm.value.typeName}).pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.toastr.success(this.translate.instant("Created"),this.translate.instant("Success")),this.matDialogRef.close({action:o.a.Create,data:t.createdId})},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}updateAnimalType(){this.animalTypeService.update({animalTypeId:this.data.animalTypeId,typeName:this.animalTypeForm.value.typeName}).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{this.toastr.success(this.translate.instant("Updated"),this.translate.instant("Success")),this.matDialogRef.close({action:o.a.Update,data:this.data.animalTypeId})},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}resetForm(){this.createForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(a){return new(a||t)(m.Pb(l.c),m.Pb(h),m.Pb(b.a),m.Pb(b.e),m.Pb(f.b),m.Pb(C.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-create-update-animal-type"]],decls:25,vars:9,consts:[[1,"container"],[1,"form-group","float-right"],[1,"text-right"],["mat-icon-button","","matSuffix","","mat-dialog-close",""],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","formControlName","typeName"],[4,"ngIf"],[1,"row","px-2","mt-4"],[1,"col-md-6"],["mat-raised-button","","type","submit","color","primary",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"]],template:function(t,a){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"button",3),m.Vb(4,"mat-icon"),m.Cc(5,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"h3",4),m.Cc(7),m.ic(8,"translate"),m.Ub(),m.Qb(9,"hr"),m.Vb(10,"form",5),m.dc("ngSubmit",(function(){return a.onSubmit()})),m.Vb(11,"mat-form-field",6),m.Vb(12,"mat-label"),m.Cc(13),m.ic(14,"translate"),m.Ub(),m.Qb(15,"input",7),m.Bc(16,_,4,6,"mat-error",8),m.Ub(),m.Vb(17,"div",9),m.Vb(18,"div",10),m.Vb(19,"button",11),m.Cc(20),m.Ub(),m.Ub(),m.Vb(21,"div",10),m.Vb(22,"button",12),m.dc("click",(function(){return a.resetForm()})),m.Vb(23,"mat-icon"),m.Cc(24,"cached"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Cb(7),m.Dc(m.jc(8,5,"Animal-type")),m.Cb(3),m.nc("formGroup",a.animalTypeForm),m.Cb(3),m.Dc(m.jc(14,7,"Type-name")),m.Cb(3),m.nc("ngIf",a.hasCustomError(a.animalTypeForm,"typeName")),m.Cb(4),m.Ec(" ",a.getButtonState()," "))},directives:[g.a,U.g,b.c,y.a,l.r,l.l,l.f,U.c,U.f,v.b,l.b,l.k,l.e,i.l,U.b],pipes:[C.d],styles:[".mat-form-field{width:97%}"]}),t})();function J(t,a){if(1&t){const t=m.Wb();m.Vb(0,"li",5),m.Vb(1,"div",13),m.Vb(2,"div",7),m.Vb(3,"h5"),m.Cc(4),m.Ub(),m.Ub(),m.Vb(5,"div",9),m.Vb(6,"button",14),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc().addOrUpdate(e.animalTypeId)})),m.Vb(7,"mat-icon"),m.Cc(8,"edit"),m.Ub(),m.Ub(),m.Vb(9,"button",15),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc().delete(e.animalTypeId)})),m.Vb(10,"mat-icon"),m.Cc(11,"delete"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=a.$implicit;m.Cb(4),m.Ec(" ",t.typeName," ")}}let X=(()=>{class t{constructor(t,a,e,i){this.animalTypeService=t,this.toastr=a,this.dialog=e,this.translate=i,this.animalTypes=[],this.destroy$=new r.a}ngOnInit(){this.getAnimalTypes()}getAnimalTypes(){this.animalTypeService.getAnimalTypes().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.animalTypes=t.sort((t,a)=>t.typeName>a.typeName?1:-1)},t=>{console.log(t),this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error"))})}addOrUpdate(t){const a=this.findOrDefaultAnimalType(t);this.dialog.open(W,{width:"28%",autoFocus:!0,data:a}).afterClosed().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&this.refreshData(t)})}delete(t){Object(c.d)(this.animalTypes.find(a=>a.animalTypeId===t).typeName,this.translate)&&this.animalTypeService.delete(t).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{Object(c.i)(o.a.Delete,this.animalTypes,null,a=>a.animalTypeId===t),this.toastr.success(this.translate.instant("Deleted"),this.translate.instant("Success"))},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}findOrDefaultAnimalType(t){return t?this.animalTypes.find(a=>a.animalTypeId===t):{animalTypeId:null,typeName:null}}refreshData(t){const a=t.data,e=t.action;this.animalTypeService.get(a).pipe(Object(s.a)(this.destroy$)).subscribe(t=>{Object(c.i)(e,this.animalTypes,t,t=>t.animalTypeId===a),this.animalTypes.sort((t,a)=>t.typeName>a.typeName?1:-1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(a){return new(a||t)(m.Pb(h),m.Pb(f.b),m.Pb(b.b),m.Pb(C.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-animal-type-list"]],decls:24,vars:10,consts:[[1,"text-center","my-2"],[1,"container"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"list-group","mt-1"],[1,"list-group-item"],[1,"row","px-2"],[1,"col-md-9","my-auto"],[1,"font-weight-bold"],[1,"col-md-3","my-auto"],["mat-raised-button","","color","primary",1,"btn","btn-sm",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"row","px-3"],[1,"btn","btn-sm","btn-warning","ml-4","mr-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"]],template:function(t,a){1&t&&(m.Vb(0,"div",0),m.Vb(1,"h3"),m.Cc(2),m.ic(3,"translate"),m.Ub(),m.Ub(),m.Qb(4,"hr"),m.Vb(5,"div",1),m.Vb(6,"div",2),m.Vb(7,"div",3),m.Vb(8,"ul",4),m.Vb(9,"li",5),m.Vb(10,"div",6),m.Vb(11,"div",7),m.Vb(12,"h4",8),m.Vb(13,"i"),m.Cc(14),m.ic(15,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Vb(16,"div",9),m.Vb(17,"button",10),m.dc("click",(function(){return a.addOrUpdate(null)})),m.Vb(18,"mat-icon"),m.Cc(19,"add"),m.Ub(),m.Cc(20),m.ic(21,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(22,"ul",11),m.Bc(23,J,12,1,"li",12),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Cb(2),m.Dc(m.jc(3,4,"Animal-type-management")),m.Cb(12),m.Dc(m.jc(15,6,"Type-name")),m.Cb(6),m.Ec(" ",m.jc(21,8,"Create-type")," "),m.Cb(3),m.nc("ngForOf",a.animalTypes))},directives:[g.a,y.a,i.k],pipes:[C.d],styles:[".bg-text[_ngcontent-%COMP%]{font-family:Roboto;font-size:18px;font-style:normal}"]}),t})(),Z=(()=>{class t{constructor(t){this.httpClient=t}getRationsForAnimal(t){return this.httpClient.get(u.a.rationsForAnimal+t)}createRation(t){return this.httpClient.post(u.a.rations,t)}updateRation(t){return this.httpClient.put(u.a.rations,t)}deleteRation(t){return this.httpClient.delete(u.a.rations+t)}}return t.\u0275fac=function(a){return new(a||t)(m.Zb(p.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function H(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Food-name")," ",m.jc(3,4,"is-required")," "))}function K(t,a){1&t&&(m.Vb(0,"mat-error"),m.Cc(1),m.ic(2,"translate"),m.ic(3,"translate"),m.Ub()),2&t&&(m.Cb(1),m.Fc(" ",m.jc(2,2,"Description")," ",m.jc(3,4,"is-required")," "))}let z=(()=>{class t{constructor(t,a,e,i,n,s){this.fb=t,this.toastr=a,this.rationService=e,this.data=i,this.matDialogRef=n,this.translate=s,this.destroy$=new r.a,this.getButtonState=()=>this.translate.instant(Object(c.f)(null!==this.data.rationId,"Ration")),this.hasCustomError=(t,a)=>Object(c.g)(t,a),this.hasPatternError=(t,a)=>Object(c.h)(t,a)}ngOnInit(){this.createForm(),Object(c.b)(this.toastr)}createForm(){this.rationForm=this.fb.group({foodName:[this.data.foodName,[l.q.required,l.q.maxLength(100)]],description:[this.data.description,[l.q.required,l.q.maxLength(200)]]})}onSubmit(){this.rationForm.valid?null!==this.data.rationId?this.updateRation():this.createRation():this.rationForm.markAllAsTouched()}createRation(){this.rationService.createRation(Object.assign({animalId:this.data.animalId},this.rationForm.value)).pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.toastr.success(this.translate.instant("Created"),this.translate.instant("Success")),this.matDialogRef.close({action:o.a.Create,data:t.createdId})},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}updateRation(){this.rationService.updateRation(Object.assign({rationId:this.data.rationId,animalId:this.data.animalId},this.rationForm.value)).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{this.toastr.success(this.translate.instant("Updated"),this.translate.instant("Success")),this.matDialogRef.close({action:o.a.Update,data:this.data.rationId})},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}resetForm(){this.createForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(a){return new(a||t)(m.Pb(l.c),m.Pb(f.b),m.Pb(Z),m.Pb(b.a),m.Pb(b.e),m.Pb(C.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-ration"]],decls:31,vars:13,consts:[[1,"container"],[1,"form-group","float-right"],[1,"text-right"],["mat-icon-button","","matSuffix","","mat-dialog-close",""],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","formControlName","foodName"],[4,"ngIf"],["matInput","","placeholder","Some description","formControlName","description","rows","3"],[1,"row","px-2","mt-4"],[1,"col-md-6"],["mat-raised-button","","color","primary","type","submit",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"]],template:function(t,a){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"div",2),m.Vb(3,"button",3),m.Vb(4,"mat-icon"),m.Cc(5,"close"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"h3",4),m.Cc(7),m.ic(8,"translate"),m.Ub(),m.Qb(9,"hr"),m.Vb(10,"form",5),m.dc("ngSubmit",(function(){return a.onSubmit()})),m.Vb(11,"mat-form-field",6),m.Vb(12,"mat-label"),m.Cc(13),m.ic(14,"translate"),m.Ub(),m.Qb(15,"input",7),m.Bc(16,H,4,6,"mat-error",8),m.Ub(),m.Vb(17,"mat-form-field",6),m.Vb(18,"mat-label"),m.Cc(19),m.ic(20,"translate"),m.Ub(),m.Qb(21,"textarea",9),m.Bc(22,K,4,6,"mat-error",8),m.Ub(),m.Vb(23,"div",10),m.Vb(24,"div",11),m.Vb(25,"button",12),m.Cc(26),m.Ub(),m.Ub(),m.Vb(27,"div",11),m.Vb(28,"button",13),m.dc("click",(function(){return a.resetForm()})),m.Vb(29,"mat-icon"),m.Cc(30,"cached"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Cb(7),m.Dc(m.jc(8,7,"Ration")),m.Cb(3),m.nc("formGroup",a.rationForm),m.Cb(3),m.Dc(m.jc(14,9,"Food-name")),m.Cb(3),m.nc("ngIf",a.hasCustomError(a.rationForm,"foodName")),m.Cb(3),m.Dc(m.jc(20,11,"Description")),m.Cb(3),m.nc("ngIf",a.hasCustomError(a.rationForm,"description")),m.Cb(4),m.Ec(" ",a.getButtonState()," "))},directives:[g.a,U.g,b.c,y.a,l.r,l.l,l.f,U.c,U.f,v.b,l.b,l.k,l.e,i.l,U.b],pipes:[C.d],styles:[".mat-action-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fff;border-radius:3px;border:.5px solid silver;margin-bottom:2px}.mat-action-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#673ab7;color:#fff}.mat-action-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:7%}"]}),t})(),Y=(()=>{class t{constructor(t){this.httpClient=t}get(t){return this.httpClient.get(u.a.animalDetails+t)}create(t){return this.httpClient.post(u.a.animalDetails,t)}update(t){return this.httpClient.put(u.a.animalDetails,t)}}return t.\u0275fac=function(a){return new(a||t)(m.Zb(p.b))},t.\u0275prov=m.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var tt=e("wZkO"),at=e("Xa2L");function et(t,a){1&t&&(m.Vb(0,"div",26),m.Qb(1,"mat-spinner"),m.Ub())}function it(t,a){if(1&t&&(m.Vb(0,"div",21),m.Qb(1,"img",22),m.Vb(2,"ul",23),m.Vb(3,"li",24),m.Vb(4,"span"),m.Vb(5,"b"),m.Cc(6),m.ic(7,"translate"),m.Ub(),m.Cc(8),m.Ub(),m.Ub(),m.Vb(9,"li",24),m.Vb(10,"span"),m.Vb(11,"b"),m.Cc(12),m.ic(13,"translate"),m.Ub(),m.Cc(14),m.Ub(),m.Ub(),m.Vb(15,"li",24),m.Vb(16,"span"),m.Vb(17,"b"),m.Cc(18),m.ic(19,"translate"),m.Ub(),m.Cc(20),m.ic(21,"translate"),m.Ub(),m.Ub(),m.Vb(22,"li",24),m.Vb(23,"span"),m.Vb(24,"b"),m.Cc(25),m.ic(26,"translate"),m.Ub(),m.Cc(27),m.ic(28,"date"),m.Ub(),m.Ub(),m.Ub(),m.Bc(29,et,2,0,"div",25),m.Ub()),2&t){const t=m.hc();m.Cb(1),m.nc("src",t.animal.picture,m.wc),m.Cb(5),m.Ec("",m.jc(7,10,"Animal-type"),":"),m.Cb(2),m.Ec(" ",t.animal.typeName," "),m.Cb(4),m.Ec("",m.jc(13,12,"Name"),":"),m.Cb(2),m.Ec(" ",t.animal.name," "),m.Cb(4),m.Ec("",m.jc(19,14,"Gender"),":"),m.Cb(2),m.Ec(" ",m.jc(21,16,t.animal.gender)," "),m.Cb(5),m.Ec("",m.jc(26,18,"Date-of-birth"),":"),m.Cb(2),m.Ec(" ",m.kc(28,20,t.animal.dateOfBirth,"yyy-MM-dd")," "),m.Cb(2),m.nc("ngIf",null==t.animal)}}function nt(t,a){1&t&&(m.Cc(0),m.ic(1,"translate")),2&t&&m.Ec(" ",m.jc(1,1,"Details")," ")}function rt(t,a){if(1&t){const t=m.Wb();m.Vb(0,"form",27),m.dc("ngSubmit",(function(){return m.uc(t),m.hc().updateDetails()})),m.Vb(1,"mat-form-field",28),m.Vb(2,"mat-label"),m.Cc(3),m.ic(4,"translate"),m.ic(5,"translate"),m.Ub(),m.Qb(6,"input",29),m.Ub(),m.Vb(7,"mat-form-field",28),m.Vb(8,"mat-label"),m.Cc(9),m.ic(10,"translate"),m.ic(11,"translate"),m.Ub(),m.Qb(12,"input",30),m.Ub(),m.Vb(13,"mat-form-field",28),m.Vb(14,"mat-label"),m.Cc(15),m.ic(16,"translate"),m.ic(17,"translate"),m.Ub(),m.Qb(18,"input",31),m.Ub(),m.Vb(19,"mat-form-field",28),m.Vb(20,"mat-label"),m.Cc(21),m.ic(22,"translate"),m.ic(23,"translate"),m.Ub(),m.Qb(24,"input",32),m.Ub(),m.Vb(25,"mat-form-field",28),m.Vb(26,"mat-label"),m.Cc(27),m.ic(28,"translate"),m.Ub(),m.Qb(29,"input",33),m.Ub(),m.Vb(30,"mat-form-field",28),m.Vb(31,"mat-label"),m.Cc(32),m.ic(33,"translate"),m.Ub(),m.Qb(34,"textarea",34),m.Ub(),m.Vb(35,"div",35),m.Vb(36,"div",7),m.Vb(37,"button",36),m.Cc(38),m.ic(39,"translate"),m.Ub(),m.Ub(),m.Vb(40,"div",7),m.Vb(41,"button",37),m.dc("click",(function(){return m.uc(t),m.hc().resetForm()})),m.Vb(42,"mat-icon"),m.Cc(43,"cached"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.hc();m.nc("formGroup",t.animalDetailsForm),m.Cb(3),m.Fc("",m.jc(4,13,"Weight"),", ",m.jc(5,15,"Kg"),""),m.Cb(6),m.Fc("",m.jc(10,17,"Height"),", ",m.jc(11,19,"M"),""),m.Cb(6),m.Fc("",m.jc(16,21,"BodyLength"),", ",m.jc(17,23,"M"),""),m.Cb(6),m.Fc("",m.jc(22,25,"TailLength"),", ",m.jc(23,27,"M"),""),m.Cb(6),m.Fc("",m.jc(28,29,"Price"),", ","USD",""),m.Cb(5),m.Dc(m.jc(33,31,"AdditionalInfo")),m.Cb(6),m.Ec(" ",m.jc(39,33,"Update")," ")}}function ct(t,a){1&t&&(m.Cc(0),m.ic(1,"translate")),2&t&&m.Ec(" ",m.jc(1,1,"Ration")," ")}function st(t,a){if(1&t){const t=m.Wb();m.Vb(0,"tr",14),m.Vb(1,"td",38),m.Cc(2),m.Ub(),m.Vb(3,"td",1),m.Cc(4),m.Ub(),m.Vb(5,"td",5),m.Vb(6,"button",39),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc().addOrUpdateRation(e.rationId)})),m.Vb(7,"mat-icon"),m.Cc(8,"edit"),m.Ub(),m.Ub(),m.Vb(9,"button",40),m.dc("click",(function(){m.uc(t);const e=a.$implicit;return m.hc().deleteRation(e.rationId)})),m.Vb(10,"mat-icon"),m.Cc(11,"delete"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=a.$implicit;m.Cb(2),m.Ec(" ",t.foodName," "),m.Cb(2),m.Ec(" ",t.description," ")}}function ot(t,a){1&t&&(m.Vb(0,"tr"),m.Vb(1,"td"),m.Vb(2,"p"),m.Cc(3),m.ic(4,"translate"),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Cb(3),m.Dc(m.jc(4,1,"Empty")))}const lt=[{path:"",redirectTo:"animal-list",pathMatch:"full"},{path:"animal-list",component:L},{path:"type-list",component:X},{path:"animal-info/:animalId",component:(()=>{class t{constructor(t,a,e,i,n,c,s,o,l){this.route=t,this.router=a,this.toastr=e,this.rationService=i,this.animalSerivce=n,this.animalDetailsService=c,this.dialog=s,this.fb=o,this.translate=l,this.rations=[],this.destroy$=new r.a}ngOnInit(){this.animalId=+this.route.snapshot.params.animalId,this.getAnimal(),this.getRations(),this.getAnimalDetails(),Object(c.b)(this.toastr)}getAnimal(){this.animalSerivce.getAnimal(this.animalId).pipe(Object(s.a)(this.destroy$)).subscribe(t=>this.animal=t)}getRations(){this.rationService.getRationsForAnimal(this.animalId).pipe(Object(s.a)(this.destroy$)).subscribe(t=>this.rations=t)}getAnimalDetails(){this.animalDetailsService.get(this.animalId).pipe(Object(s.a)(this.destroy$)).subscribe(t=>{this.animalDetails=t,this.generateAnimalDetailsForm()})}generateAnimalDetailsForm(){this.animalDetailsForm=this.fb.group({weight:[this.animalDetails.weight],height:[this.animalDetails.height],bodyLength:[this.animalDetails.bodyLength],tailLength:[this.animalDetails.tailLength],price:[this.animalDetails.price],additionalInfo:[this.animalDetails.additionalInfo,l.q.maxLength(300)]})}backToAnimals(){this.router.navigate(["/animal/animal-list"])}updateDetails(){this.animalDetailsForm.valid?this.animalDetailsService.update(Object.assign({animalDetailsId:this.animalDetails.animalDetailsId,animalId:this.animalId},this.animalDetailsForm.value)).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{this.getAnimalDetails(),this.toastr.success(this.translate.instant("Updated"),this.translate.instant("Success"))},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)}):this.animalDetailsForm.markAllAsTouched()}updateAnimal(){this.dialog.open(w,{width:"28%",autoFocus:!0,data:this.animal}).afterClosed().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&this.getAnimal()})}resetForm(){this.generateAnimalDetailsForm()}addOrUpdateRation(t){const a=this.findOrDefaultRation(t);this.dialog.open(z,{width:"28%",autoFocus:!0,data:a}).afterClosed().pipe(Object(s.a)(this.destroy$)).subscribe(()=>this.getRations())}deleteRation(t){Object(c.d)(this.rations.find(a=>a.rationId===t).foodName,this.translate)&&this.rationService.deleteRation(t).pipe(Object(s.a)(this.destroy$)).subscribe(()=>{Object(c.i)(o.a.Delete,this.rations,null,a=>a.rationId===t),this.toastr.success(this.translate.instant("Deleted"),this.translate.instant("Success"))},t=>{this.toastr.error(this.translate.instant("Failed"),this.translate.instant("Error")),console.log(t)})}findOrDefaultRation(t){return t?this.rations.find(a=>a.rationId===t):{animalId:this.animalId,rationId:null,foodName:null,description:null}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(a){return new(a||t)(m.Pb(n.a),m.Pb(n.b),m.Pb(f.b),m.Pb(Z),m.Pb(d.a),m.Pb(Y),m.Pb(b.b),m.Pb(l.c),m.Pb(C.e))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-animal-info"]],decls:46,vars:22,consts:[[1,"row","px-2"],[1,"col-md-5"],[1,"text-center"],["class","form-group",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-md-4"],["mat-raised-button","","color","secondary",1,"btn-block",3,"click"],[1,"col-md-6"],["mat-raised-button","","color","accent",1,"btn-block",3,"click"],["animationDuration","400ms","mat-align-tabs","center"],["mat-tab-label",""],["class","w-75 mx-auto","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"table","table-bordered","text-center","mt-2"],[1,"thead-light"],[1,"d-flex"],["scope","col",1,"col-md-3"],["scope","col",1,"col-md-5"],["scope","col",1,"col-md-4"],["mat-raised-button","","color","primary",1,"btn","btn-sm",3,"click"],["class","d-flex",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-group"],["alt","",1,"img-fluid","rounded","w-100","mb-3","d-block","mx-auto",3,"src"],[1,"list-group"],[1,"list-group-item"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["novalidate","",1,"w-75","mx-auto",3,"formGroup","ngSubmit"],["appearance","standard"],["type","number","matInput","","formControlName","weight"],["type","number","matInput","","formControlName","height"],["type","number","matInput","","formControlName","bodyLength"],["type","number","matInput","","formControlName","tailLength"],["type","number","matInput","","formControlName","price"],["matInput","","formControlName","additionalInfo","rows","3"],[1,"row","px-2","my-2"],["mat-raised-button","","type","submit","color","primary",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"],[1,"col-md-3","text-overflow-hidden"],[1,"btn","btn-sm","btn-warning","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"]],template:function(t,a){1&t&&(m.Vb(0,"div",0),m.Vb(1,"div",1),m.Vb(2,"h4",2),m.Cc(3),m.ic(4,"translate"),m.Ub(),m.Qb(5,"hr"),m.Bc(6,it,30,23,"div",3),m.Vb(7,"div",4),m.Vb(8,"div",5),m.Vb(9,"button",6),m.dc("click",(function(){return a.backToAnimals()})),m.Vb(10,"mat-icon"),m.Cc(11,"arrow_back_ios"),m.Ub(),m.Cc(12),m.ic(13,"translate"),m.Ub(),m.Ub(),m.Vb(14,"div",7),m.Vb(15,"button",8),m.dc("click",(function(){return a.updateAnimal()})),m.Vb(16,"mat-icon"),m.Cc(17,"edit"),m.Ub(),m.Cc(18),m.ic(19,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Qb(20,"hr"),m.Vb(21,"div",7),m.Vb(22,"mat-tab-group",9),m.Vb(23,"mat-tab"),m.Bc(24,nt,2,3,"ng-template",10),m.Bc(25,rt,44,35,"form",11),m.Ub(),m.Vb(26,"mat-tab"),m.Bc(27,ct,2,3,"ng-template",10),m.Vb(28,"table",12),m.Vb(29,"thead",13),m.Vb(30,"tr",14),m.Vb(31,"th",15),m.Cc(32),m.ic(33,"translate"),m.Ub(),m.Vb(34,"th",16),m.Cc(35),m.ic(36,"translate"),m.Ub(),m.Vb(37,"th",17),m.Vb(38,"button",18),m.dc("click",(function(){return a.addOrUpdateRation(null)})),m.Vb(39,"mat-icon"),m.Cc(40,"add"),m.Ub(),m.Cc(41),m.ic(42,"translate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(43,"tbody"),m.Bc(44,st,12,2,"tr",19),m.Bc(45,ot,5,3,"tr",20),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Cb(3),m.Dc(m.jc(4,10,"Animal-info")),m.Cb(3),m.nc("ngIf",a.animal),m.Cb(6),m.Ec(" ",m.jc(13,12,"Back")," "),m.Cb(6),m.Ec(" ",m.jc(19,14,"Update")," "),m.Cb(7),m.nc("ngIf",a.animalDetailsForm),m.Cb(7),m.Ec(" ",m.jc(33,16,"Food-name")," "),m.Cb(3),m.Ec(" ",m.jc(36,18,"Description")," "),m.Cb(6),m.Ec(" ",m.jc(42,20,"Create")," "),m.Cb(3),m.nc("ngForOf",a.rations),m.Cb(1),m.nc("ngIf",0===a.rations.length))},directives:[i.l,g.a,y.a,tt.b,tt.a,tt.c,i.k,at.b,l.r,l.l,l.f,U.c,U.f,l.o,v.b,l.b,l.k,l.e],pipes:[C.d,i.e],styles:[""]}),t})()}];let bt=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(a){return new(a||t)},imports:[[n.e.forChild(lt)],n.e]}),t})();var mt=e("PCNd");let dt=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(a){return new(a||t)},providers:[d.a],imports:[[i.c,bt,mt.a]]}),t})()}}]);