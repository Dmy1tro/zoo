function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{efOG:function(t,e,a){"use strict";a.r(e),a.d(e,"AnimalModule",(function(){return kt}));var n,i=a("ofXK"),r=a("tyNb"),c=a("XNiG"),o=a("Ojd6"),l=a("1G5W"),s=a("wFOr"),b=a("3Pt+"),m=a("0IaG"),u=a("fXoL"),d=a("2yVh"),f=a("NgpD"),p=a("tk/3"),h=((n=function(){function t(e){_classCallCheck(this,t),this.httpClient=e}return _createClass(t,[{key:"get",value:function(t){return this.httpClient.get(f.a.animalTypes+t)}},{key:"getAnimalTypes",value:function(){return this.httpClient.get(f.a.animalTypes)}},{key:"create",value:function(t){return this.httpClient.post(f.a.animalTypes,t)}},{key:"update",value:function(t){return this.httpClient.put(f.a.animalTypes,t)}},{key:"delete",value:function(t){return this.httpClient.delete(f.a.animalTypes+t)}}]),t}()).\u0275fac=function(t){return new(t||n)(u.Zb(p.b))},n.\u0275prov=u.Lb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),y=a("5eHb"),C=a("sYmb"),v=a("bTqV"),g=a("kmnG"),U=a("NFeN"),V=a("d3UM"),k=a("qFsG"),j=a("iadO"),F=a("FKr1"),I=["pictureFile"];function O(t,e){if(1&t&&(u.Vb(0,"mat-option",24),u.Cc(1),u.Ub()),2&t){var a=e.$implicit;u.nc("value",a.animalTypeId),u.Cb(1),u.Ec(" ",a.typeName," ")}}function D(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Animal-type")," ",u.jc(3,4,"is-required")," "))}function A(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Name")," ",u.jc(3,4,"is-required")," "))}function T(t,e){if(1&t&&(u.Vb(0,"mat-option",24),u.Cc(1),u.ic(2,"translate"),u.Ub()),2&t){var a=e.$implicit;u.nc("value",a.value),u.Cb(1),u.Ec(" ",u.jc(2,2,a.title)," ")}}function w(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Gender")," ",u.jc(3,4,"is-required")," "))}function S(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Date-of-birth")," ",u.jc(3,4,"is-required")," "))}var x,N=((x=function(){function t(e,a,n,i,r,l,s,b){var m=this;_classCallCheck(this,t),this.fb=e,this.animalService=a,this.animalTypeService=n,this.data=i,this.matDialogRef=r,this.toastr=l,this.datePipe=s,this.translate=b,this.animalTypes=[],this.destroy$=new c.a,this.getButtonState=function(){return m.translate.instant(Object(o.f)(null!=m.data.animalId,"Animal"))},this.hasCustomError=function(t,e){return Object(o.g)(t,e)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.genders=Object(o.e)(s.c),this.getAnimalTypes(),this.createForm(),Object(o.b)(this.toastr)}},{key:"getAnimalTypes",value:function(){var t=this;this.animalTypeService.getAnimalTypes().pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.animalTypes=e}),(function(e){console.log(e),t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error"))}))}},{key:"createForm",value:function(){this.animalForm=this.fb.group({animalTypeId:[this.data.animalTypeId,b.q.required],name:[this.data.name,[b.q.required,b.q.maxLength(100)]],gender:[this.data.gender,b.q.required],dateOfBirth:[this.data.dateOfBirth,b.q.required]})}},{key:"onUpload",value:function(t){this.file=t.target.files[0]}},{key:"onSubmit",value:function(){this.animalForm.valid?null==this.data.animalId?this.createAnimal():this.updateAnimal():this.animalForm.markAllAsTouched()}},{key:"createAnimal",value:function(){var t=this,e=this.getFormData();this.animalService.createAnimal(e).pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.toastr.success(t.translate.instant("Created"),t.translate.instant("Success")),t.matDialogRef.close({action:s.a.Create,data:e.createdId})}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)}))}},{key:"updateAnimal",value:function(){var t=this,e=this.getFormData();this.animalService.updateAnimal(e).pipe(Object(l.a)(this.destroy$)).subscribe((function(){t.toastr.success(t.translate.instant("Updated"),t.translate.instant("Success")),t.matDialogRef.close({action:s.a.Update,data:t.data.animalId})}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)}))}},{key:"resetForm",value:function(){this.createForm(),this.pictureFile.nativeElement.value=null,this.file=null}},{key:"getFormData",value:function(){var t,e=new FormData;return e.append("animalId",""+(null!==(t=this.data.animalId)&&void 0!==t?t:0)),e.append("animalTypeId",this.animalForm.value.animalTypeId),e.append("name",this.animalForm.value.name),e.append("gender",this.animalForm.value.gender),e.append("dateOfBirth",Object(o.c)(this.animalForm.value.dateOfBirth,this.datePipe)),this.file&&e.append("picture",this.file),e}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}()).\u0275fac=function(t){return new(t||x)(u.Pb(b.c),u.Pb(d.a),u.Pb(h),u.Pb(m.a),u.Pb(m.e),u.Pb(y.b),u.Pb(i.e),u.Pb(C.e))},x.\u0275cmp=u.Jb({type:x,selectors:[["app-animal-management"]],viewQuery:function(t,e){var a;1&t&&u.Ic(I,!0),2&t&&u.rc(a=u.ec())&&(e.pictureFile=a.first)},features:[u.Bb([i.e])],decls:56,vars:28,consts:[[1,"container"],[1,"form-group","float-right"],[1,"text-right"],["mat-icon-button","","matSuffix","","mat-dialog-close",""],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],["appearance","standard"],["formControlName","animalTypeId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","name"],["formControlName","gender"],["color","primary","appearance","standard"],["matInput","","formControlName","dateOfBirth","readonly","",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker1",""],[1,"form-group","mt-2"],["multiple","","type","file","accept","image/*",1,"form-control-file",3,"change"],["pictureFile",""],[1,"row","px-2","mt-4"],[1,"col-md-6"],["mat-raised-button","","type","submit","color","primary",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"button",3),u.Vb(4,"mat-icon"),u.Cc(5,"close"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"h3",4),u.Cc(7),u.ic(8,"translate"),u.Ub(),u.Qb(9,"hr"),u.Vb(10,"form",5),u.dc("ngSubmit",(function(){return e.onSubmit()})),u.Vb(11,"mat-form-field",6),u.Vb(12,"mat-label"),u.Cc(13),u.ic(14,"translate"),u.Ub(),u.Vb(15,"mat-select",7),u.Bc(16,O,2,2,"mat-option",8),u.Ub(),u.Bc(17,D,4,6,"mat-error",9),u.Ub(),u.Vb(18,"mat-form-field",6),u.Vb(19,"mat-label"),u.Cc(20),u.ic(21,"translate"),u.Ub(),u.Qb(22,"input",10),u.Bc(23,A,4,6,"mat-error",9),u.Ub(),u.Vb(24,"mat-form-field",6),u.Vb(25,"mat-label"),u.Cc(26),u.ic(27,"translate"),u.Ub(),u.Vb(28,"mat-select",11),u.Bc(29,T,3,4,"mat-option",8),u.Ub(),u.Bc(30,w,4,6,"mat-error",9),u.Ub(),u.Vb(31,"mat-form-field",12),u.Vb(32,"mat-label"),u.Cc(33),u.ic(34,"translate"),u.Ub(),u.Qb(35,"input",13),u.Qb(36,"mat-datepicker-toggle",14),u.Qb(37,"mat-datepicker",15,16),u.Bc(39,S,4,6,"mat-error",9),u.Ub(),u.Vb(40,"div",17),u.Vb(41,"label"),u.Cc(42),u.ic(43,"translate"),u.Ub(),u.Qb(44,"br"),u.Vb(45,"input",18,19),u.dc("change",(function(t){return e.onUpload(t)})),u.Ub(),u.Qb(47,"br"),u.Ub(),u.Vb(48,"div",20),u.Vb(49,"div",21),u.Vb(50,"button",22),u.Cc(51),u.Ub(),u.Ub(),u.Vb(52,"div",21),u.Vb(53,"button",23),u.dc("click",(function(){return e.resetForm()})),u.Vb(54,"mat-icon"),u.Cc(55,"cached"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t){var a=u.sc(38);u.Cb(7),u.Dc(u.jc(8,16,"Animal")),u.Cb(3),u.nc("formGroup",e.animalForm),u.Cb(3),u.Dc(u.jc(14,18,"Animal-type")),u.Cb(3),u.nc("ngForOf",e.animalTypes),u.Cb(1),u.nc("ngIf",e.hasCustomError(e.animalForm,"animalTypeId")),u.Cb(3),u.Dc(u.jc(21,20,"Name")),u.Cb(3),u.nc("ngIf",e.hasCustomError(e.animalForm,"name")),u.Cb(3),u.Dc(u.jc(27,22,"Gender")),u.Cb(3),u.nc("ngForOf",e.genders),u.Cb(1),u.nc("ngIf",e.hasCustomError(e.animalForm,"gender")),u.Cb(3),u.Dc(u.jc(34,24,"Date-of-birth")),u.Cb(2),u.nc("matDatepicker",a),u.Cb(1),u.nc("for",a),u.Cb(3),u.nc("ngIf",e.hasCustomError(e.animalForm,"dateOfBirth")),u.Cb(3),u.Dc(u.jc(43,26,"Choose-pic")),u.Cb(9),u.Ec(" ",e.getButtonState()," ")}},directives:[v.a,g.g,m.c,U.a,b.r,b.l,b.f,g.c,g.f,V.a,b.k,b.e,i.k,i.l,k.b,b.b,j.b,j.d,j.a,F.n,g.b],pipes:[C.d],styles:[".mat-form-field{width:97%}"]}),x),E=a("/1cH"),P=a("jaxi"),B=a("1jcm");function $(t,e){if(1&t&&(u.Vb(0,"mat-option",6),u.Cc(1),u.Ub()),2&t){var a=e.$implicit;u.nc("value",a),u.Cb(1),u.Ec(" ",a," ")}}function _(t,e){if(1&t&&(u.Vb(0,"mat-option",6),u.Cc(1),u.Ub()),2&t){var a=e.$implicit;u.nc("value",a.name),u.Cb(1),u.Ec(" ",a.name," ")}}function R(t,e){if(1&t){var a=u.Wb();u.Vb(0,"button",27),u.dc("click",(function(){return u.uc(a),u.hc().addOrUpdate(null)})),u.Vb(1,"mat-icon"),u.Cc(2,"add"),u.Ub(),u.Ub()}}var Q=function(t){return["/animal/animal-info",t]};function q(t,e){if(1&t){var a=u.Wb();u.Vb(0,"div",29),u.Vb(1,"div",30),u.Qb(2,"img",31),u.Vb(3,"h5",32),u.Cc(4),u.Ub(),u.Vb(5,"ul",33),u.Vb(6,"li",34),u.Vb(7,"mat-icon",21),u.Cc(8,"description"),u.Ub(),u.Cc(9),u.Ub(),u.Vb(10,"li",34),u.Vb(11,"mat-icon",21),u.Cc(12,"info"),u.Ub(),u.Cc(13),u.ic(14,"translate"),u.Ub(),u.Vb(15,"li",34),u.Vb(16,"mat-icon",21),u.Cc(17,"date_range"),u.Ub(),u.Cc(18),u.ic(19,"date"),u.Ub(),u.Ub(),u.Vb(20,"div",35),u.Vb(21,"a",36),u.Vb(22,"mat-icon",21),u.Cc(23,"info"),u.Ub(),u.Cc(24),u.ic(25,"translate"),u.Ub(),u.Vb(26,"button",37),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc(2).addOrUpdate(t.animalId)})),u.Vb(27,"mat-icon"),u.Cc(28,"edit"),u.Ub(),u.Ub(),u.Vb(29,"button",38),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc(2).deleteAnimal(t.animalId)})),u.Vb(30,"mat-icon"),u.Cc(31,"delete"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&t){var n=e.$implicit;u.Cb(2),u.nc("src",n.picture,u.wc),u.Cb(2),u.Ec(" ",n.name," "),u.Cb(5),u.Ec(" ",n.typeName," "),u.Cb(4),u.Ec(" ",u.jc(14,7,n.gender)," "),u.Cb(5),u.Ec(" ",u.kc(19,9,n.dateOfBirth,"yyyy-MM-dd")," "),u.Cb(3),u.nc("routerLink",u.pc(14,Q,n.animalId)),u.Cb(3),u.Ec(" ",u.jc(25,12,"Info")," ")}}function M(t,e){if(1&t&&(u.Vb(0,"div",2),u.Bc(1,q,32,16,"div",28),u.Ub()),2&t){var a=u.hc();u.Cb(1),u.nc("ngForOf",a.filteredAnimals)}}function G(t,e){if(1&t){var a=u.Wb();u.Vb(0,"tr",42),u.Vb(1,"td",49),u.Cc(2),u.Ub(),u.Vb(3,"td",29),u.Cc(4),u.Ub(),u.Vb(5,"td",49),u.Cc(6),u.ic(7,"translate"),u.Ub(),u.Vb(8,"td",49),u.Cc(9),u.ic(10,"date"),u.Ub(),u.Vb(11,"td",29),u.Vb(12,"a",50),u.Vb(13,"mat-icon",21),u.Cc(14,"info"),u.Ub(),u.Cc(15),u.ic(16,"translate"),u.Ub(),u.Vb(17,"button",37),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc(2).addOrUpdate(t.animalId)})),u.Vb(18,"mat-icon"),u.Cc(19,"edit"),u.Ub(),u.Ub(),u.Vb(20,"button",38),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc(2).deleteAnimal(t.animalId)})),u.Vb(21,"mat-icon"),u.Cc(22,"delete"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&t){var n=e.$implicit;u.Cb(2),u.Ec(" ",n.typeName," "),u.Cb(2),u.Ec(" ",n.name," "),u.Cb(2),u.Ec(" ",u.jc(7,6,n.gender)," "),u.Cb(3),u.Ec(" ",u.kc(10,8,n.dateOfBirth,"yyyy-MM-dd")," "),u.Cb(3),u.nc("routerLink",u.pc(13,Q,n.animalId)),u.Cb(3),u.Ec(" ",u.jc(16,11,"Info")," ")}}function L(t,e){if(1&t){var a=u.Wb();u.Vb(0,"div",39),u.Vb(1,"table",40),u.Vb(2,"thead",41),u.Vb(3,"tr",42),u.Vb(4,"th",43),u.dc("click",(function(){return u.uc(a),u.hc().sortBy("type")})),u.Vb(5,"u"),u.Cc(6),u.ic(7,"translate"),u.Ub(),u.Ub(),u.Vb(8,"th",44),u.dc("click",(function(){return u.uc(a),u.hc().sortBy("name")})),u.Vb(9,"u"),u.Cc(10),u.ic(11,"translate"),u.Ub(),u.Ub(),u.Vb(12,"th",45),u.Cc(13),u.ic(14,"translate"),u.Ub(),u.Vb(15,"th",43),u.dc("click",(function(){return u.uc(a),u.hc().sortBy("date")})),u.Vb(16,"u"),u.Cc(17),u.ic(18,"translate"),u.Ub(),u.Ub(),u.Vb(19,"th",46),u.Vb(20,"button",47),u.dc("click",(function(){return u.uc(a),u.hc().addOrUpdate(null)})),u.Vb(21,"mat-icon"),u.Cc(22,"add"),u.Ub(),u.Cc(23),u.ic(24,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(25,"tbody"),u.Bc(26,G,23,15,"tr",48),u.Ub(),u.Ub(),u.Ub()}if(2&t){var n=u.hc();u.Cb(6),u.Dc(u.jc(7,6,"Type")),u.Cb(4),u.Dc(u.jc(11,8,"Name")),u.Cb(3),u.Dc(u.jc(14,10,"Gender")),u.Cb(4),u.Dc(u.jc(18,12,"Date-of-birth")),u.Cb(6),u.Ec(" ",u.jc(24,14,"Create-animal")," "),u.Cb(3),u.nc("ngForOf",n.filteredAnimals)}}var W,J=((W=function(){function t(e,a,n,i,r,o){_classCallCheck(this,t),this.fb=e,this.router=a,this.animalService=n,this.toastr=i,this.dialog=r,this.translateService=o,this.typeNames=[],this.sortValue=!0,this.destroy$=new c.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAnimals(),this.createForm(),Object(o.b)(this.toastr),this.tableView=this.isTableView()}},{key:"getAnimals",value:function(){var t=this;this.animalService.getAnimals().pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.animals=e,t.typeNames=t.animals.map((function(t){return t.typeName})).filter((function(t,e,a){return a.indexOf(t)===e})),t.defaultSort(),t.filterAnimals()}))}},{key:"createForm",value:function(){this.filterForm=this.fb.group({typeName:[null],name:[null],fromDate:[null],byDate:[null]})}},{key:"isTableView",value:function(){var t=localStorage.getItem("table-view");return!!t&&t.toUpperCase()==="true".toUpperCase()}},{key:"changeView",value:function(t){localStorage.setItem("table-view",t.checked+""),this.tableView=t.checked}},{key:"filterAnimals",value:function(){var t=this.filterForm.value;this.filteredAnimals=this.animals,t.typeName&&"*"!==t.typeName&&(this.filteredAnimals=this.filteredAnimals.filter((function(e){return e.typeName.toUpperCase()===t.typeName.toUpperCase()}))),t.name&&(this.filteredAnimals=this.filteredAnimals.filter((function(e){return e.name.toUpperCase().includes(t.name.toUpperCase())}))),t.fromDate&&(this.filteredAnimals=this.filteredAnimals.filter((function(e){return Date.parse(e.dateOfBirth)>=t.fromDate}))),t.byDate&&(this.filteredAnimals=this.filteredAnimals.filter((function(e){return Date.parse(e.dateOfBirth)<=t.byDate})))}},{key:"deleteAnimal",value:function(t){var e=this;Object(o.d)(this.animals.find((function(e){return e.animalId===t})).name,this.translateService)&&this.animalService.deleteAnimal(t).pipe(Object(l.a)(this.destroy$)).subscribe((function(){Object(o.i)(s.a.Delete,e.animals,null,(function(e){return e.animalId===t})),e.toastr.success(e.translateService.instant("Deleted"),e.translateService.instant("Success"))}),(function(t){e.toastr.error(e.translateService.instant("Failed"),e.translateService.instant("Error")),console.log(t)}))}},{key:"goToInfo",value:function(t){this.router.navigate(["/animal/animal-info",t])}},{key:"addOrUpdate",value:function(t){var e=this,a=this.findOrDefaultAnimal(t);this.dialog.open(N,{width:"28%",autoFocus:!0,data:a}).afterClosed().pipe(Object(l.a)(this.destroy$)).subscribe((function(t){t&&e.refreshData(t)}))}},{key:"sortBy",value:function(t){var e=this;"name"===t&&this.filteredAnimals.sort((function(t,a){return(e.sortValue?t.name>a.name:t.name<a.name)?1:-1})),"date"===t&&this.filteredAnimals.sort((function(t,a){return(e.sortValue?t.dateOfBirth>a.dateOfBirth:t.dateOfBirth<a.dateOfBirth)?1:-1})),"type"===t&&this.filteredAnimals.sort((function(t,a){return(e.sortValue?t.typeName>a.typeName:t.typeName<a.typeName)?1:-1})),this.sortValue=!this.sortValue}},{key:"findOrDefaultAnimal",value:function(t){return t?this.animals.find((function(e){return e.animalId===t})):{animalTypeId:null,animalId:null,name:null,gender:null,dateOfBirth:null,picture:null,contentType:null}}},{key:"refreshData",value:function(t){var e=this,a=t.data;this.animalService.getAnimal(a).pipe(Object(l.a)(this.destroy$)).subscribe((function(n){Object(o.i)(t.action,e.animals,n,(function(t){return t.animalId===a})),e.defaultSort(),e.filterAnimals()}))}},{key:"defaultSort",value:function(){this.animals.sort((function(t,e){return Date.parse(t.dateOfBirth)<=Date.parse(e.dateOfBirth)?1:-1}))}},{key:"resetForm",value:function(){this.filterForm.reset(),this.filteredAnimals=this.animals}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}()).\u0275fac=function(t){return new(t||W)(u.Pb(b.c),u.Pb(r.b),u.Pb(d.a),u.Pb(y.b),u.Pb(m.b),u.Pb(C.e))},W.\u0275cmp=u.Jb({type:W,selectors:[["app-animal-details"]],features:[u.Bb([i.e])],decls:63,vars:40,consts:[[1,"text-center","my-2"],["novalidate","",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-2","my-auto"],["appearance","standard"],["formControlName","typeName"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","my-auto"],["matInput","","placeholder","title","formControlName","name",3,"matAutocomplete"],["autoName","matAutocomplete"],["color","primary","appearance","standard"],["matInput","","formControlName","fromDate",1,"mat-datepicker-input",3,"matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker1",""],["matInput","","formControlName","byDate",3,"matDatepicker"],["picker2",""],["mat-raised-button","","color","primary","type","submit",1,"px-5"],[3,"click"],[1,"mb-3"],[1,"mr-1"],[3,"ngModel","ngModelChange","change","click"],[1,"ml-1"],["mat-fab","","color","primary","class","add-circle-button d-flex justify-content-center",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["class","table-responsive px-2",4,"ngIf"],["mat-fab","","color","primary",1,"add-circle-button","d-flex","justify-content-center",3,"click"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card","mb-2","shadow"],[1,"card-img-top","mx-auto",3,"src"],[1,"text-center","mt-2"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-inline-flex"],[1,"card-body","d-flex","justify-content-center"],[1,"btn","btn-info","mr-2","d-inline-flex","justify-content-center",3,"routerLink"],[1,"btn","btn-sm","btn-warning","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"],[1,"table-responsive","px-2"],[1,"table","table-bordered","text-center"],[1,"thead-light"],[1,"d-flex"],["scope","col",1,"col-md-2","pointer",3,"click"],["scope","col",1,"col-md-3","pointer",3,"click"],["scope","col",1,"col-md-2"],["scope","col",1,"col-md-3"],["mat-raised-button","","color","primary",1,"btn","btn-sm",3,"click"],["class","d-flex",4,"ngFor","ngForOf"],[1,"col-md-2"],[1,"btn","btn-info","mr-3","d-inline-flex","justify-content-center",3,"routerLink"]],template:function(t,e){if(1&t&&(u.Vb(0,"div",0),u.Vb(1,"h3"),u.Cc(2),u.ic(3,"translate"),u.Ub(),u.Ub(),u.Qb(4,"hr"),u.Vb(5,"form",1),u.dc("ngSubmit",(function(){return e.filterAnimals()})),u.Vb(6,"div",2),u.Vb(7,"div",3),u.Vb(8,"mat-form-field",4),u.Vb(9,"mat-label"),u.Cc(10),u.ic(11,"translate"),u.Ub(),u.Vb(12,"mat-select",5),u.Vb(13,"mat-option",6),u.Cc(14),u.ic(15,"translate"),u.Ub(),u.Bc(16,$,2,2,"mat-option",7),u.Ub(),u.Ub(),u.Ub(),u.Vb(17,"div",8),u.Vb(18,"mat-form-field",4),u.Vb(19,"mat-label"),u.Cc(20),u.ic(21,"translate"),u.Ub(),u.Qb(22,"input",9),u.Vb(23,"mat-autocomplete",null,10),u.Bc(25,_,2,2,"mat-option",7),u.Ub(),u.Ub(),u.Ub(),u.Vb(26,"div",3),u.Vb(27,"mat-form-field",11),u.Vb(28,"mat-label"),u.Cc(29),u.ic(30,"translate"),u.Ub(),u.Qb(31,"input",12),u.Qb(32,"mat-datepicker-toggle",13),u.Qb(33,"mat-datepicker",14,15),u.Ub(),u.Ub(),u.Vb(35,"div",3),u.Vb(36,"mat-form-field",11),u.Vb(37,"mat-label"),u.Cc(38),u.ic(39,"translate"),u.Ub(),u.Qb(40,"input",16),u.Qb(41,"mat-datepicker-toggle",13),u.Qb(42,"mat-datepicker",14,17),u.Ub(),u.Ub(),u.Vb(44,"div",8),u.Vb(45,"mat-button-toggle-group"),u.Vb(46,"button",18),u.Cc(47),u.ic(48,"translate"),u.Ub(),u.Vb(49,"mat-button-toggle",19),u.dc("click",(function(){return e.resetForm()})),u.Vb(50,"mat-icon"),u.Cc(51,"cached"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(52,"div",20),u.Vb(53,"span",21),u.Cc(54),u.ic(55,"translate"),u.Ub(),u.Vb(56,"mat-slide-toggle",22),u.dc("ngModelChange",(function(t){return e.tableView=t}))("change",(function(t){return e.changeView(t)}))("click",(function(t){return t.stopPropagation()})),u.Ub(),u.Vb(57,"span",23),u.Cc(58),u.ic(59,"translate"),u.Ub(),u.Ub(),u.Bc(60,R,3,0,"button",24),u.Bc(61,M,2,1,"div",25),u.Bc(62,L,27,16,"div",26)),2&t){var a=u.sc(24),n=u.sc(34),i=u.sc(43);u.Cb(2),u.Dc(u.jc(3,22,"Animal-management")),u.Cb(3),u.nc("formGroup",e.filterForm),u.Cb(5),u.Dc(u.jc(11,24,"Animal-type")),u.Cb(3),u.nc("value","*"),u.Cb(1),u.Ec(" ",u.jc(15,26,"All")," "),u.Cb(2),u.nc("ngForOf",e.typeNames),u.Cb(4),u.Dc(u.jc(21,28,"Name")),u.Cb(2),u.nc("matAutocomplete",a),u.Cb(3),u.nc("ngForOf",e.filteredAnimals),u.Cb(4),u.Dc(u.jc(30,30,"From-date")),u.Cb(2),u.nc("matDatepicker",n),u.Cb(1),u.nc("for",n),u.Cb(6),u.Dc(u.jc(39,32,"By-date")),u.Cb(2),u.nc("matDatepicker",i),u.Cb(1),u.nc("for",i),u.Cb(6),u.Ec(" ",u.jc(48,34,"Search")," "),u.Cb(7),u.Ec(" ",u.jc(55,36,"Card-view")," "),u.Cb(2),u.nc("ngModel",e.tableView),u.Cb(2),u.Ec(" ",u.jc(59,38,"Table-view")," "),u.Cb(2),u.nc("ngIf",!e.tableView),u.Cb(1),u.nc("ngIf",!e.tableView),u.Cb(1),u.nc("ngIf",e.tableView)}},directives:[b.r,b.l,b.f,g.c,g.f,V.a,b.k,b.e,F.n,i.k,k.b,b.b,E.c,E.a,j.b,j.d,g.g,j.a,P.b,v.a,P.a,U.a,B.a,b.n,i.l,r.d],pipes:[C.d,i.e],styles:[".add-circle-button[_ngcontent-%COMP%]{position:fixed;bottom:60px;right:47px;z-index:999}img[_ngcontent-%COMP%]{height:178px!important;width:100%!important}"]}),W);function X(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Type-name")," ",u.jc(3,4,"is-required")," "))}var Z,H=((Z=function(){function t(e,a,n,i,r,l){var s=this;_classCallCheck(this,t),this.fb=e,this.animalTypeService=a,this.data=n,this.matDialogRef=i,this.toastr=r,this.translate=l,this.destroy$=new c.a,this.getButtonState=function(){return s.translate.instant(Object(o.f)(null!=s.data.animalTypeId,"Animal-type"))},this.hasCustomError=function(t,e){return Object(o.g)(t,e)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.createForm(),Object(o.b)(this.toastr)}},{key:"createForm",value:function(){this.animalTypeForm=this.fb.group({typeName:[this.data.typeName,b.q.required]})}},{key:"onSubmit",value:function(){this.animalTypeForm.valid?null==this.data.animalTypeId?this.createAnimalType():this.updateAnimalType():this.animalTypeForm.markAllAsTouched()}},{key:"createAnimalType",value:function(){var t=this;this.animalTypeService.create({typeName:this.animalTypeForm.value.typeName}).pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.toastr.success(t.translate.instant("Created"),t.translate.instant("Success")),t.matDialogRef.close({action:s.a.Create,data:e.createdId})}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)}))}},{key:"updateAnimalType",value:function(){var t=this;this.animalTypeService.update({animalTypeId:this.data.animalTypeId,typeName:this.animalTypeForm.value.typeName}).pipe(Object(l.a)(this.destroy$)).subscribe((function(){t.toastr.success(t.translate.instant("Updated"),t.translate.instant("Success")),t.matDialogRef.close({action:s.a.Update,data:t.data.animalTypeId})}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)}))}},{key:"resetForm",value:function(){this.createForm()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}()).\u0275fac=function(t){return new(t||Z)(u.Pb(b.c),u.Pb(h),u.Pb(m.a),u.Pb(m.e),u.Pb(y.b),u.Pb(C.e))},Z.\u0275cmp=u.Jb({type:Z,selectors:[["app-create-update-animal-type"]],decls:25,vars:9,consts:[[1,"container"],[1,"form-group","float-right"],[1,"text-right"],["mat-icon-button","","matSuffix","","mat-dialog-close",""],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","formControlName","typeName"],[4,"ngIf"],[1,"row","px-2","mt-4"],[1,"col-md-6"],["mat-raised-button","","type","submit","color","primary",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"button",3),u.Vb(4,"mat-icon"),u.Cc(5,"close"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"h3",4),u.Cc(7),u.ic(8,"translate"),u.Ub(),u.Qb(9,"hr"),u.Vb(10,"form",5),u.dc("ngSubmit",(function(){return e.onSubmit()})),u.Vb(11,"mat-form-field",6),u.Vb(12,"mat-label"),u.Cc(13),u.ic(14,"translate"),u.Ub(),u.Qb(15,"input",7),u.Bc(16,X,4,6,"mat-error",8),u.Ub(),u.Vb(17,"div",9),u.Vb(18,"div",10),u.Vb(19,"button",11),u.Cc(20),u.Ub(),u.Ub(),u.Vb(21,"div",10),u.Vb(22,"button",12),u.dc("click",(function(){return e.resetForm()})),u.Vb(23,"mat-icon"),u.Cc(24,"cached"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(7),u.Dc(u.jc(8,5,"Animal-type")),u.Cb(3),u.nc("formGroup",e.animalTypeForm),u.Cb(3),u.Dc(u.jc(14,7,"Type-name")),u.Cb(3),u.nc("ngIf",e.hasCustomError(e.animalTypeForm,"typeName")),u.Cb(4),u.Ec(" ",e.getButtonState()," "))},directives:[v.a,g.g,m.c,U.a,b.r,b.l,b.f,g.c,g.f,k.b,b.b,b.k,b.e,i.l,g.b],pipes:[C.d],styles:[".mat-form-field{width:97%}"]}),Z);function K(t,e){if(1&t){var a=u.Wb();u.Vb(0,"li",5),u.Vb(1,"div",13),u.Vb(2,"div",7),u.Vb(3,"h5"),u.Cc(4),u.Ub(),u.Ub(),u.Vb(5,"div",9),u.Vb(6,"button",14),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc().addOrUpdate(t.animalTypeId)})),u.Vb(7,"mat-icon"),u.Cc(8,"edit"),u.Ub(),u.Ub(),u.Vb(9,"button",15),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc().delete(t.animalTypeId)})),u.Vb(10,"mat-icon"),u.Cc(11,"delete"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&t){var n=e.$implicit;u.Cb(4),u.Ec(" ",n.typeName," ")}}var z,Y,tt=((Y=function(){function t(e,a,n,i){_classCallCheck(this,t),this.animalTypeService=e,this.toastr=a,this.dialog=n,this.translate=i,this.animalTypes=[],this.destroy$=new c.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAnimalTypes()}},{key:"getAnimalTypes",value:function(){var t=this;this.animalTypeService.getAnimalTypes().pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.animalTypes=e.sort((function(t,e){return t.typeName>e.typeName?1:-1}))}),(function(e){console.log(e),t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error"))}))}},{key:"addOrUpdate",value:function(t){var e=this,a=this.findOrDefaultAnimalType(t);this.dialog.open(H,{width:"28%",autoFocus:!0,data:a}).afterClosed().pipe(Object(l.a)(this.destroy$)).subscribe((function(t){t&&e.refreshData(t)}))}},{key:"delete",value:function(t){var e=this;Object(o.d)(this.animalTypes.find((function(e){return e.animalTypeId===t})).typeName,this.translate)&&this.animalTypeService.delete(t).pipe(Object(l.a)(this.destroy$)).subscribe((function(){Object(o.i)(s.a.Delete,e.animalTypes,null,(function(e){return e.animalTypeId===t})),e.toastr.success(e.translate.instant("Deleted"),e.translate.instant("Success"))}),(function(t){e.toastr.error(e.translate.instant("Failed"),e.translate.instant("Error")),console.log(t)}))}},{key:"findOrDefaultAnimalType",value:function(t){return t?this.animalTypes.find((function(e){return e.animalTypeId===t})):{animalTypeId:null,typeName:null}}},{key:"refreshData",value:function(t){var e=this,a=t.data,n=t.action;this.animalTypeService.get(a).pipe(Object(l.a)(this.destroy$)).subscribe((function(t){Object(o.i)(n,e.animalTypes,t,(function(t){return t.animalTypeId===a})),e.animalTypes.sort((function(t,e){return t.typeName>e.typeName?1:-1}))}))}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}()).\u0275fac=function(t){return new(t||Y)(u.Pb(h),u.Pb(y.b),u.Pb(m.b),u.Pb(C.e))},Y.\u0275cmp=u.Jb({type:Y,selectors:[["app-animal-type-list"]],decls:24,vars:10,consts:[[1,"text-center","my-2"],[1,"container"],[1,"row"],[1,"col-md-8","mx-auto"],[1,"list-group","mt-1"],[1,"list-group-item"],[1,"row","px-2"],[1,"col-md-9","my-auto"],[1,"font-weight-bold"],[1,"col-md-3","my-auto"],["mat-raised-button","","color","primary",1,"btn","btn-sm",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"row","px-3"],[1,"btn","btn-sm","btn-warning","ml-4","mr-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"h3"),u.Cc(2),u.ic(3,"translate"),u.Ub(),u.Ub(),u.Qb(4,"hr"),u.Vb(5,"div",1),u.Vb(6,"div",2),u.Vb(7,"div",3),u.Vb(8,"ul",4),u.Vb(9,"li",5),u.Vb(10,"div",6),u.Vb(11,"div",7),u.Vb(12,"h4",8),u.Vb(13,"i"),u.Cc(14),u.ic(15,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Vb(16,"div",9),u.Vb(17,"button",10),u.dc("click",(function(){return e.addOrUpdate(null)})),u.Vb(18,"mat-icon"),u.Cc(19,"add"),u.Ub(),u.Cc(20),u.ic(21,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(22,"ul",11),u.Bc(23,K,12,1,"li",12),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(2),u.Dc(u.jc(3,4,"Animal-type-management")),u.Cb(12),u.Dc(u.jc(15,6,"Type-name")),u.Cb(6),u.Ec(" ",u.jc(21,8,"Create-type")," "),u.Cb(3),u.nc("ngForOf",e.animalTypes))},directives:[v.a,U.a,i.k],pipes:[C.d],styles:[".bg-text[_ngcontent-%COMP%]{font-family:Roboto;font-size:18px;font-style:normal}"]}),Y),et=((z=function(){function t(e){_classCallCheck(this,t),this.httpClient=e}return _createClass(t,[{key:"getRationsForAnimal",value:function(t){return this.httpClient.get(f.a.rationsForAnimal+t)}},{key:"createRation",value:function(t){return this.httpClient.post(f.a.rations,t)}},{key:"updateRation",value:function(t){return this.httpClient.put(f.a.rations,t)}},{key:"deleteRation",value:function(t){return this.httpClient.delete(f.a.rations+t)}}]),t}()).\u0275fac=function(t){return new(t||z)(u.Zb(p.b))},z.\u0275prov=u.Lb({token:z,factory:z.\u0275fac,providedIn:"root"}),z);function at(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Food-name")," ",u.jc(3,4,"is-required")," "))}function nt(t,e){1&t&&(u.Vb(0,"mat-error"),u.Cc(1),u.ic(2,"translate"),u.ic(3,"translate"),u.Ub()),2&t&&(u.Cb(1),u.Fc(" ",u.jc(2,2,"Description")," ",u.jc(3,4,"is-required")," "))}var it,rt,ct=((rt=function(){function t(e,a,n,i,r,l){var s=this;_classCallCheck(this,t),this.fb=e,this.toastr=a,this.rationService=n,this.data=i,this.matDialogRef=r,this.translate=l,this.destroy$=new c.a,this.getButtonState=function(){return s.translate.instant(Object(o.f)(null!==s.data.rationId,"Ration"))},this.hasCustomError=function(t,e){return Object(o.g)(t,e)},this.hasPatternError=function(t,e){return Object(o.h)(t,e)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.createForm(),Object(o.b)(this.toastr)}},{key:"createForm",value:function(){this.rationForm=this.fb.group({foodName:[this.data.foodName,[b.q.required,b.q.maxLength(100)]],description:[this.data.description,[b.q.required,b.q.maxLength(200)]]})}},{key:"onSubmit",value:function(){this.rationForm.valid?null!==this.data.rationId?this.updateRation():this.createRation():this.rationForm.markAllAsTouched()}},{key:"createRation",value:function(){var t=this;this.rationService.createRation(Object.assign({animalId:this.data.animalId},this.rationForm.value)).pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.toastr.success(t.translate.instant("Created"),t.translate.instant("Success")),t.matDialogRef.close({action:s.a.Create,data:e.createdId})}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)}))}},{key:"updateRation",value:function(){var t=this;this.rationService.updateRation(Object.assign({rationId:this.data.rationId,animalId:this.data.animalId},this.rationForm.value)).pipe(Object(l.a)(this.destroy$)).subscribe((function(){t.toastr.success(t.translate.instant("Updated"),t.translate.instant("Success")),t.matDialogRef.close({action:s.a.Update,data:t.data.rationId})}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)}))}},{key:"resetForm",value:function(){this.createForm()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}()).\u0275fac=function(t){return new(t||rt)(u.Pb(b.c),u.Pb(y.b),u.Pb(et),u.Pb(m.a),u.Pb(m.e),u.Pb(C.e))},rt.\u0275cmp=u.Jb({type:rt,selectors:[["app-ration"]],decls:31,vars:13,consts:[[1,"container"],[1,"form-group","float-right"],[1,"text-right"],["mat-icon-button","","matSuffix","","mat-dialog-close",""],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","formControlName","foodName"],[4,"ngIf"],["matInput","","placeholder","Some description","formControlName","description","rows","3"],[1,"row","px-2","mt-4"],[1,"col-md-6"],["mat-raised-button","","color","primary","type","submit",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"div",2),u.Vb(3,"button",3),u.Vb(4,"mat-icon"),u.Cc(5,"close"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(6,"h3",4),u.Cc(7),u.ic(8,"translate"),u.Ub(),u.Qb(9,"hr"),u.Vb(10,"form",5),u.dc("ngSubmit",(function(){return e.onSubmit()})),u.Vb(11,"mat-form-field",6),u.Vb(12,"mat-label"),u.Cc(13),u.ic(14,"translate"),u.Ub(),u.Qb(15,"input",7),u.Bc(16,at,4,6,"mat-error",8),u.Ub(),u.Vb(17,"mat-form-field",6),u.Vb(18,"mat-label"),u.Cc(19),u.ic(20,"translate"),u.Ub(),u.Qb(21,"textarea",9),u.Bc(22,nt,4,6,"mat-error",8),u.Ub(),u.Vb(23,"div",10),u.Vb(24,"div",11),u.Vb(25,"button",12),u.Cc(26),u.Ub(),u.Ub(),u.Vb(27,"div",11),u.Vb(28,"button",13),u.dc("click",(function(){return e.resetForm()})),u.Vb(29,"mat-icon"),u.Cc(30,"cached"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(7),u.Dc(u.jc(8,7,"Ration")),u.Cb(3),u.nc("formGroup",e.rationForm),u.Cb(3),u.Dc(u.jc(14,9,"Food-name")),u.Cb(3),u.nc("ngIf",e.hasCustomError(e.rationForm,"foodName")),u.Cb(3),u.Dc(u.jc(20,11,"Description")),u.Cb(3),u.nc("ngIf",e.hasCustomError(e.rationForm,"description")),u.Cb(4),u.Ec(" ",e.getButtonState()," "))},directives:[v.a,g.g,m.c,U.a,b.r,b.l,b.f,g.c,g.f,k.b,b.b,b.k,b.e,i.l,g.b],pipes:[C.d],styles:[".mat-action-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#fff;border-radius:3px;border:.5px solid silver;margin-bottom:2px}.mat-action-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#673ab7;color:#fff}.mat-action-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:7%}"]}),rt),ot=((it=function(){function t(e){_classCallCheck(this,t),this.httpClient=e}return _createClass(t,[{key:"get",value:function(t){return this.httpClient.get(f.a.animalDetails+t)}},{key:"create",value:function(t){return this.httpClient.post(f.a.animalDetails,t)}},{key:"update",value:function(t){return this.httpClient.put(f.a.animalDetails,t)}}]),t}()).\u0275fac=function(t){return new(t||it)(u.Zb(p.b))},it.\u0275prov=u.Lb({token:it,factory:it.\u0275fac,providedIn:"root"}),it),lt=a("wZkO"),st=a("Xa2L");function bt(t,e){1&t&&(u.Vb(0,"div",26),u.Qb(1,"mat-spinner"),u.Ub())}function mt(t,e){if(1&t&&(u.Vb(0,"div",21),u.Qb(1,"img",22),u.Vb(2,"ul",23),u.Vb(3,"li",24),u.Vb(4,"span"),u.Vb(5,"b"),u.Cc(6),u.ic(7,"translate"),u.Ub(),u.Cc(8),u.Ub(),u.Ub(),u.Vb(9,"li",24),u.Vb(10,"span"),u.Vb(11,"b"),u.Cc(12),u.ic(13,"translate"),u.Ub(),u.Cc(14),u.Ub(),u.Ub(),u.Vb(15,"li",24),u.Vb(16,"span"),u.Vb(17,"b"),u.Cc(18),u.ic(19,"translate"),u.Ub(),u.Cc(20),u.ic(21,"translate"),u.Ub(),u.Ub(),u.Vb(22,"li",24),u.Vb(23,"span"),u.Vb(24,"b"),u.Cc(25),u.ic(26,"translate"),u.Ub(),u.Cc(27),u.ic(28,"date"),u.Ub(),u.Ub(),u.Ub(),u.Bc(29,bt,2,0,"div",25),u.Ub()),2&t){var a=u.hc();u.Cb(1),u.nc("src",a.animal.picture,u.wc),u.Cb(5),u.Ec("",u.jc(7,10,"Animal-type"),":"),u.Cb(2),u.Ec(" ",a.animal.typeName," "),u.Cb(4),u.Ec("",u.jc(13,12,"Name"),":"),u.Cb(2),u.Ec(" ",a.animal.name," "),u.Cb(4),u.Ec("",u.jc(19,14,"Gender"),":"),u.Cb(2),u.Ec(" ",u.jc(21,16,a.animal.gender)," "),u.Cb(5),u.Ec("",u.jc(26,18,"Date-of-birth"),":"),u.Cb(2),u.Ec(" ",u.kc(28,20,a.animal.dateOfBirth,"yyy-MM-dd")," "),u.Cb(2),u.nc("ngIf",null==a.animal)}}function ut(t,e){1&t&&(u.Cc(0),u.ic(1,"translate")),2&t&&u.Ec(" ",u.jc(1,1,"Details")," ")}function dt(t,e){if(1&t){var a=u.Wb();u.Vb(0,"form",27),u.dc("ngSubmit",(function(){return u.uc(a),u.hc().updateDetails()})),u.Vb(1,"mat-form-field",28),u.Vb(2,"mat-label"),u.Cc(3),u.ic(4,"translate"),u.ic(5,"translate"),u.Ub(),u.Qb(6,"input",29),u.Ub(),u.Vb(7,"mat-form-field",28),u.Vb(8,"mat-label"),u.Cc(9),u.ic(10,"translate"),u.ic(11,"translate"),u.Ub(),u.Qb(12,"input",30),u.Ub(),u.Vb(13,"mat-form-field",28),u.Vb(14,"mat-label"),u.Cc(15),u.ic(16,"translate"),u.ic(17,"translate"),u.Ub(),u.Qb(18,"input",31),u.Ub(),u.Vb(19,"mat-form-field",28),u.Vb(20,"mat-label"),u.Cc(21),u.ic(22,"translate"),u.ic(23,"translate"),u.Ub(),u.Qb(24,"input",32),u.Ub(),u.Vb(25,"mat-form-field",28),u.Vb(26,"mat-label"),u.Cc(27),u.ic(28,"translate"),u.Ub(),u.Qb(29,"input",33),u.Ub(),u.Vb(30,"mat-form-field",28),u.Vb(31,"mat-label"),u.Cc(32),u.ic(33,"translate"),u.Ub(),u.Qb(34,"textarea",34),u.Ub(),u.Vb(35,"div",35),u.Vb(36,"div",7),u.Vb(37,"button",36),u.Cc(38),u.ic(39,"translate"),u.Ub(),u.Ub(),u.Vb(40,"div",7),u.Vb(41,"button",37),u.dc("click",(function(){return u.uc(a),u.hc().resetForm()})),u.Vb(42,"mat-icon"),u.Cc(43,"cached"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&t){var n=u.hc();u.nc("formGroup",n.animalDetailsForm),u.Cb(3),u.Fc("",u.jc(4,13,"Weight"),", ",u.jc(5,15,"Kg"),""),u.Cb(6),u.Fc("",u.jc(10,17,"Height"),", ",u.jc(11,19,"M"),""),u.Cb(6),u.Fc("",u.jc(16,21,"BodyLength"),", ",u.jc(17,23,"M"),""),u.Cb(6),u.Fc("",u.jc(22,25,"TailLength"),", ",u.jc(23,27,"M"),""),u.Cb(6),u.Fc("",u.jc(28,29,"Price"),", ","USD",""),u.Cb(5),u.Dc(u.jc(33,31,"AdditionalInfo")),u.Cb(6),u.Ec(" ",u.jc(39,33,"Update")," ")}}function ft(t,e){1&t&&(u.Cc(0),u.ic(1,"translate")),2&t&&u.Ec(" ",u.jc(1,1,"Ration")," ")}function pt(t,e){if(1&t){var a=u.Wb();u.Vb(0,"tr",14),u.Vb(1,"td",38),u.Cc(2),u.Ub(),u.Vb(3,"td",1),u.Cc(4),u.Ub(),u.Vb(5,"td",5),u.Vb(6,"button",39),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc().addOrUpdateRation(t.rationId)})),u.Vb(7,"mat-icon"),u.Cc(8,"edit"),u.Ub(),u.Ub(),u.Vb(9,"button",40),u.dc("click",(function(){u.uc(a);var t=e.$implicit;return u.hc().deleteRation(t.rationId)})),u.Vb(10,"mat-icon"),u.Cc(11,"delete"),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&t){var n=e.$implicit;u.Cb(2),u.Ec(" ",n.foodName," "),u.Cb(2),u.Ec(" ",n.description," ")}}function ht(t,e){1&t&&(u.Vb(0,"tr"),u.Vb(1,"td"),u.Vb(2,"p"),u.Cc(3),u.ic(4,"translate"),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(3),u.Dc(u.jc(4,1,"Empty")))}var yt,Ct,vt,gt=[{path:"",redirectTo:"animal-list",pathMatch:"full"},{path:"animal-list",component:J},{path:"type-list",component:tt},{path:"animal-info/:animalId",component:(yt=function(){function t(e,a,n,i,r,o,l,s,b){_classCallCheck(this,t),this.route=e,this.router=a,this.toastr=n,this.rationService=i,this.animalSerivce=r,this.animalDetailsService=o,this.dialog=l,this.fb=s,this.translate=b,this.rations=[],this.destroy$=new c.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.animalId=+this.route.snapshot.params.animalId,this.getAnimal(),this.getRations(),this.getAnimalDetails(),Object(o.b)(this.toastr)}},{key:"getAnimal",value:function(){var t=this;this.animalSerivce.getAnimal(this.animalId).pipe(Object(l.a)(this.destroy$)).subscribe((function(e){return t.animal=e}))}},{key:"getRations",value:function(){var t=this;this.rationService.getRationsForAnimal(this.animalId).pipe(Object(l.a)(this.destroy$)).subscribe((function(e){return t.rations=e}))}},{key:"getAnimalDetails",value:function(){var t=this;this.animalDetailsService.get(this.animalId).pipe(Object(l.a)(this.destroy$)).subscribe((function(e){t.animalDetails=e,t.generateAnimalDetailsForm()}))}},{key:"generateAnimalDetailsForm",value:function(){this.animalDetailsForm=this.fb.group({weight:[this.animalDetails.weight],height:[this.animalDetails.height],bodyLength:[this.animalDetails.bodyLength],tailLength:[this.animalDetails.tailLength],price:[this.animalDetails.price],additionalInfo:[this.animalDetails.additionalInfo,b.q.maxLength(300)]})}},{key:"backToAnimals",value:function(){this.router.navigate(["/animal/animal-list"])}},{key:"updateDetails",value:function(){var t=this;this.animalDetailsForm.valid?this.animalDetailsService.update(Object.assign({animalDetailsId:this.animalDetails.animalDetailsId,animalId:this.animalId},this.animalDetailsForm.value)).pipe(Object(l.a)(this.destroy$)).subscribe((function(){t.getAnimalDetails(),t.toastr.success(t.translate.instant("Updated"),t.translate.instant("Success"))}),(function(e){t.toastr.error(t.translate.instant("Failed"),t.translate.instant("Error")),console.log(e)})):this.animalDetailsForm.markAllAsTouched()}},{key:"updateAnimal",value:function(){var t=this;this.dialog.open(N,{width:"28%",autoFocus:!0,data:this.animal}).afterClosed().pipe(Object(l.a)(this.destroy$)).subscribe((function(e){e&&t.getAnimal()}))}},{key:"resetForm",value:function(){this.generateAnimalDetailsForm()}},{key:"addOrUpdateRation",value:function(t){var e=this,a=this.findOrDefaultRation(t);this.dialog.open(ct,{width:"28%",autoFocus:!0,data:a}).afterClosed().pipe(Object(l.a)(this.destroy$)).subscribe((function(){return e.getRations()}))}},{key:"deleteRation",value:function(t){var e=this;Object(o.d)(this.rations.find((function(e){return e.rationId===t})).foodName,this.translate)&&this.rationService.deleteRation(t).pipe(Object(l.a)(this.destroy$)).subscribe((function(){Object(o.i)(s.a.Delete,e.rations,null,(function(e){return e.rationId===t})),e.toastr.success(e.translate.instant("Deleted"),e.translate.instant("Success"))}),(function(t){e.toastr.error(e.translate.instant("Failed"),e.translate.instant("Error")),console.log(t)}))}},{key:"findOrDefaultRation",value:function(t){return t?this.rations.find((function(e){return e.rationId===t})):{animalId:this.animalId,rationId:null,foodName:null,description:null}}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),t}(),yt.\u0275fac=function(t){return new(t||yt)(u.Pb(r.a),u.Pb(r.b),u.Pb(y.b),u.Pb(et),u.Pb(d.a),u.Pb(ot),u.Pb(m.b),u.Pb(b.c),u.Pb(C.e))},yt.\u0275cmp=u.Jb({type:yt,selectors:[["app-animal-info"]],decls:46,vars:22,consts:[[1,"row","px-2"],[1,"col-md-5"],[1,"text-center"],["class","form-group",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-md-4"],["mat-raised-button","","color","secondary",1,"btn-block",3,"click"],[1,"col-md-6"],["mat-raised-button","","color","accent",1,"btn-block",3,"click"],["animationDuration","400ms","mat-align-tabs","center"],["mat-tab-label",""],["class","w-75 mx-auto","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"table","table-bordered","text-center","mt-2"],[1,"thead-light"],[1,"d-flex"],["scope","col",1,"col-md-3"],["scope","col",1,"col-md-5"],["scope","col",1,"col-md-4"],["mat-raised-button","","color","primary",1,"btn","btn-sm",3,"click"],["class","d-flex",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"form-group"],["alt","",1,"img-fluid","rounded","w-100","mb-3","d-block","mx-auto",3,"src"],[1,"list-group"],[1,"list-group-item"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["novalidate","",1,"w-75","mx-auto",3,"formGroup","ngSubmit"],["appearance","standard"],["type","number","matInput","","formControlName","weight"],["type","number","matInput","","formControlName","height"],["type","number","matInput","","formControlName","bodyLength"],["type","number","matInput","","formControlName","tailLength"],["type","number","matInput","","formControlName","price"],["matInput","","formControlName","additionalInfo","rows","3"],[1,"row","px-2","my-2"],["mat-raised-button","","type","submit","color","primary",1,"btn-block"],["mat-raised-button","","type","button",1,"btn-block",3,"click"],[1,"col-md-3","text-overflow-hidden"],[1,"btn","btn-sm","btn-warning","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","mx-1",3,"click"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Vb(2,"h4",2),u.Cc(3),u.ic(4,"translate"),u.Ub(),u.Qb(5,"hr"),u.Bc(6,mt,30,23,"div",3),u.Vb(7,"div",4),u.Vb(8,"div",5),u.Vb(9,"button",6),u.dc("click",(function(){return e.backToAnimals()})),u.Vb(10,"mat-icon"),u.Cc(11,"arrow_back_ios"),u.Ub(),u.Cc(12),u.ic(13,"translate"),u.Ub(),u.Ub(),u.Vb(14,"div",7),u.Vb(15,"button",8),u.dc("click",(function(){return e.updateAnimal()})),u.Vb(16,"mat-icon"),u.Cc(17,"edit"),u.Ub(),u.Cc(18),u.ic(19,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Qb(20,"hr"),u.Vb(21,"div",7),u.Vb(22,"mat-tab-group",9),u.Vb(23,"mat-tab"),u.Bc(24,ut,2,3,"ng-template",10),u.Bc(25,dt,44,35,"form",11),u.Ub(),u.Vb(26,"mat-tab"),u.Bc(27,ft,2,3,"ng-template",10),u.Vb(28,"table",12),u.Vb(29,"thead",13),u.Vb(30,"tr",14),u.Vb(31,"th",15),u.Cc(32),u.ic(33,"translate"),u.Ub(),u.Vb(34,"th",16),u.Cc(35),u.ic(36,"translate"),u.Ub(),u.Vb(37,"th",17),u.Vb(38,"button",18),u.dc("click",(function(){return e.addOrUpdateRation(null)})),u.Vb(39,"mat-icon"),u.Cc(40,"add"),u.Ub(),u.Cc(41),u.ic(42,"translate"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(43,"tbody"),u.Bc(44,pt,12,2,"tr",19),u.Bc(45,ht,5,3,"tr",20),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(3),u.Dc(u.jc(4,10,"Animal-info")),u.Cb(3),u.nc("ngIf",e.animal),u.Cb(6),u.Ec(" ",u.jc(13,12,"Back")," "),u.Cb(6),u.Ec(" ",u.jc(19,14,"Update")," "),u.Cb(7),u.nc("ngIf",e.animalDetailsForm),u.Cb(7),u.Ec(" ",u.jc(33,16,"Food-name")," "),u.Cb(3),u.Ec(" ",u.jc(36,18,"Description")," "),u.Cb(6),u.Ec(" ",u.jc(42,20,"Create")," "),u.Cb(3),u.nc("ngForOf",e.rations),u.Cb(1),u.nc("ngIf",0===e.rations.length))},directives:[i.l,v.a,U.a,lt.b,lt.a,lt.c,i.k,st.b,b.r,b.l,b.f,g.c,g.f,b.o,k.b,b.b,b.k,b.e],pipes:[C.d,i.e],styles:[""]}),yt)}],Ut=((Ct=function t(){_classCallCheck(this,t)}).\u0275mod=u.Nb({type:Ct}),Ct.\u0275inj=u.Mb({factory:function(t){return new(t||Ct)},imports:[[r.e.forChild(gt)],r.e]}),Ct),Vt=a("PCNd"),kt=((vt=function t(){_classCallCheck(this,t)}).\u0275mod=u.Nb({type:vt}),vt.\u0275inj=u.Mb({factory:function(t){return new(t||vt)},providers:[d.a],imports:[[i.c,Ut,Vt.a]]}),vt)}}]);